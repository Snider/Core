{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Core Framework","text":"<p>Core is a Web3 Framework for building production-grade Go desktop applications using Wails v3. It replaces Electron with a native Go backend while providing a modern, service-based architecture.</p>"},{"location":"#why-core","title":"Why Core?","text":"<ul> <li>Native Performance: Go backend with native webview, no Chromium bloat</li> <li>Service Architecture: Modular, testable services with dependency injection</li> <li>MCP Integration: Built-in Model Context Protocol support for AI tooling</li> <li>Cross-Platform: macOS, Windows, and Linux from a single codebase</li> <li>TypeScript Bindings: Auto-generated bindings for frontend integration</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>package main\n\nimport (\n    \"embed\"\n    \"log\"\n\n    \"github.com/Snider/Core/pkg/core\"\n    \"github.com/Snider/Core/pkg/display\"\n    \"github.com/wailsapp/wails/v3/pkg/application\"\n)\n\n//go:embed all:frontend/dist\nvar assets embed.FS\n\nfunc main() {\n    // Create the Core with services\n    c, err := core.New(\n        core.WithAssets(assets),\n        core.WithService(display.NewService),\n        core.WithServiceLock(),\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    // Create Wails app\n    app := application.New(application.Options{\n        Name: \"MyApp\",\n    })\n\n    // Run\n    if err := app.Run(); err != nil {\n        log.Fatal(err)\n    }\n}\n</code></pre>"},{"location":"#core-services","title":"Core Services","text":"Service Description Core Central service container and lifecycle management Display Window management, dialogs, tray, clipboard WebView JavaScript execution, DOM interaction, screenshots MCP Model Context Protocol server for AI tool integration Config Application configuration and state persistence Crypt Encryption, signing, key management I18n Internationalization and localization IO File system operations Workspace Project and path management"},{"location":"#getting-started","title":"Getting Started","text":"<ol> <li>Installation - Install Go, Wails, and Core</li> <li>Quick Start - Build your first app</li> <li>Architecture - Understand the design</li> </ol>"},{"location":"#links","title":"Links","text":"<ul> <li>Repository: github.com/Snider/Core</li> <li>Issues: GitHub Issues</li> </ul>"},{"location":"api/core/","title":"Core API Reference","text":"<p>Complete API reference for the Core framework (<code>pkg/core</code>).</p>"},{"location":"api/core/#core-struct","title":"Core Struct","text":"<p>The central application container.</p>"},{"location":"api/core/#creation","title":"Creation","text":"<pre><code>func New(opts ...Option) (*Core, error)\n</code></pre> <p>Creates a new Core instance with the specified options.</p>"},{"location":"api/core/#methods","title":"Methods","text":""},{"location":"api/core/#service-access","title":"Service Access","text":"<pre><code>func ServiceFor[T any](c *Core, name string) (T, error)\n</code></pre> <p>Retrieves a service by name with type safety.</p> <pre><code>func MustServiceFor[T any](c *Core, name string) T\n</code></pre> <p>Retrieves a service by name, panics if not found or wrong type.</p>"},{"location":"api/core/#actions","title":"Actions","text":"<pre><code>func (c *Core) ACTION(msg Message) error\n</code></pre> <p>Broadcasts a message to all registered action handlers.</p> <pre><code>func (c *Core) RegisterAction(handler func(*Core, Message) error)\n</code></pre> <p>Registers an action handler.</p>"},{"location":"api/core/#service-registration","title":"Service Registration","text":"<pre><code>func (c *Core) AddService(name string, svc any) error\n</code></pre> <p>Manually adds a service to the registry.</p>"},{"location":"api/core/#config-access","title":"Config Access","text":"<pre><code>func (c *Core) Config() *config.Service\n</code></pre> <p>Returns the config service if registered.</p>"},{"location":"api/core/#options","title":"Options","text":""},{"location":"api/core/#withservice","title":"WithService","text":"<pre><code>func WithService(factory ServiceFactory) Option\n</code></pre> <p>Registers a service using its factory function.</p> <pre><code>c, _ := core.New(\n    core.WithService(config.Register),\n    core.WithService(display.NewService),\n)\n</code></pre>"},{"location":"api/core/#withname","title":"WithName","text":"<pre><code>func WithName(name string, factory ServiceFactory) Option\n</code></pre> <p>Registers a service with an explicit name.</p> <pre><code>c, _ := core.New(\n    core.WithName(\"mydb\", database.NewService),\n)\n</code></pre>"},{"location":"api/core/#withassets","title":"WithAssets","text":"<pre><code>func WithAssets(assets embed.FS) Option\n</code></pre> <p>Sets embedded assets for the application.</p>"},{"location":"api/core/#withservicelock","title":"WithServiceLock","text":"<pre><code>func WithServiceLock() Option\n</code></pre> <p>Prevents late service registration after initialization.</p>"},{"location":"api/core/#servicefactory","title":"ServiceFactory","text":"<pre><code>type ServiceFactory func(c *Core) (any, error)\n</code></pre> <p>Factory function signature for service creation.</p>"},{"location":"api/core/#message","title":"Message","text":"<pre><code>type Message interface{}\n</code></pre> <p>Messages can be any type. Common patterns:</p> <pre><code>// Map-based message\nc.ACTION(map[string]any{\n    \"action\": \"user.created\",\n    \"id\":     \"123\",\n})\n\n// Typed message\ntype UserCreated struct {\n    ID    string\n    Email string\n}\nc.ACTION(UserCreated{ID: \"123\", Email: \"user@example.com\"})\n</code></pre>"},{"location":"api/core/#serviceruntime","title":"ServiceRuntime","text":"<p>Generic helper for services that need Core access.</p> <pre><code>type ServiceRuntime[T any] struct {\n    core    *Core\n    options T\n}\n</code></pre>"},{"location":"api/core/#creation_1","title":"Creation","text":"<pre><code>func NewServiceRuntime[T any](c *Core, opts T) *ServiceRuntime[T]\n</code></pre>"},{"location":"api/core/#methods_1","title":"Methods","text":"<pre><code>func (r *ServiceRuntime[T]) Core() *Core\nfunc (r *ServiceRuntime[T]) Options() T\nfunc (r *ServiceRuntime[T]) Config() *config.Service\n</code></pre>"},{"location":"api/core/#usage","title":"Usage","text":"<pre><code>type MyOptions struct {\n    Timeout time.Duration\n}\n\ntype MyService struct {\n    *core.ServiceRuntime[MyOptions]\n}\n\nfunc NewMyService(c *core.Core) (any, error) {\n    opts := MyOptions{Timeout: 30 * time.Second}\n    return &amp;MyService{\n        ServiceRuntime: core.NewServiceRuntime(c, opts),\n    }, nil\n}\n\nfunc (s *MyService) DoSomething() {\n    timeout := s.Options().Timeout\n    cfg := s.Config()\n    // ...\n}\n</code></pre>"},{"location":"api/core/#lifecycle-interfaces","title":"Lifecycle Interfaces","text":""},{"location":"api/core/#startable","title":"Startable","text":"<pre><code>type Startable interface {\n    OnStartup(ctx context.Context) error\n}\n</code></pre> <p>Implement for initialization on app start.</p>"},{"location":"api/core/#stoppable","title":"Stoppable","text":"<pre><code>type Stoppable interface {\n    OnShutdown(ctx context.Context) error\n}\n</code></pre> <p>Implement for cleanup on app shutdown.</p>"},{"location":"api/core/#ipc-handler","title":"IPC Handler","text":"<pre><code>type IPCHandler interface {\n    HandleIPCEvents(c *Core, msg Message) error\n}\n</code></pre> <p>Automatically registered when using <code>WithService</code>.</p>"},{"location":"api/core/#built-in-actions","title":"Built-in Actions","text":""},{"location":"api/core/#actionservicestartup","title":"ActionServiceStartup","text":"<pre><code>type ActionServiceStartup struct{}\n</code></pre> <p>Sent to all services when application starts.</p>"},{"location":"api/core/#actionserviceshutdown","title":"ActionServiceShutdown","text":"<pre><code>type ActionServiceShutdown struct{}\n</code></pre> <p>Sent to all services when application shuts down.</p>"},{"location":"api/core/#error-helpers","title":"Error Helpers","text":"<pre><code>func E(service, operation string, err error) error\n</code></pre> <p>Creates a contextual error with service and operation info.</p> <pre><code>if err != nil {\n    return core.E(\"myservice\", \"Connect\", err)\n}\n// Error: myservice.Connect: connection refused\n</code></pre>"},{"location":"api/core/#complete-example","title":"Complete Example","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"github.com/Snider/Core/pkg/core\"\n    \"github.com/Snider/Core/pkg/config\"\n)\n\ntype MyService struct {\n    *core.ServiceRuntime[struct{}]\n    data string\n}\n\nfunc NewMyService(c *core.Core) (any, error) {\n    return &amp;MyService{\n        ServiceRuntime: core.NewServiceRuntime(c, struct{}{}),\n        data:           \"initialized\",\n    }, nil\n}\n\nfunc (s *MyService) OnStartup(ctx context.Context) error {\n    // Startup logic\n    return nil\n}\n\nfunc (s *MyService) OnShutdown(ctx context.Context) error {\n    // Cleanup logic\n    return nil\n}\n\nfunc (s *MyService) HandleIPCEvents(c *core.Core, msg core.Message) error {\n    switch m := msg.(type) {\n    case map[string]any:\n        if m[\"action\"] == \"myservice.update\" {\n            s.data = m[\"data\"].(string)\n        }\n    }\n    return nil\n}\n\nfunc main() {\n    c, err := core.New(\n        core.WithService(config.Register),\n        core.WithService(NewMyService),\n        core.WithServiceLock(),\n    )\n    if err != nil {\n        panic(err)\n    }\n\n    svc := core.MustServiceFor[*MyService](c, \"main\")\n    _ = svc\n}\n</code></pre>"},{"location":"api/display/","title":"Display API Reference","text":"<p>Complete API reference for the Display service (<code>pkg/display</code>).</p>"},{"location":"api/display/#service-creation","title":"Service Creation","text":"<pre><code>func NewService(c *core.Core) (any, error)\n</code></pre>"},{"location":"api/display/#window-management","title":"Window Management","text":""},{"location":"api/display/#createwindow","title":"CreateWindow","text":"<pre><code>func (s *Service) CreateWindow(opts CreateWindowOptions) (*WindowInfo, error)\n</code></pre> <p>Creates a new window with the specified options.</p> <pre><code>type CreateWindowOptions struct {\n    Name   string\n    Title  string\n    URL    string\n    X      int\n    Y      int\n    Width  int\n    Height int\n}\n</code></pre>"},{"location":"api/display/#closewindow","title":"CloseWindow","text":"<pre><code>func (s *Service) CloseWindow(name string) error\n</code></pre>"},{"location":"api/display/#getwindowinfo","title":"GetWindowInfo","text":"<pre><code>func (s *Service) GetWindowInfo(name string) (*WindowInfo, error)\n</code></pre> <p>Returns:</p> <pre><code>type WindowInfo struct {\n    Name       string\n    Title      string\n    X          int\n    Y          int\n    Width      int\n    Height     int\n    IsVisible  bool\n    IsFocused  bool\n    IsMaximized bool\n    IsMinimized bool\n}\n</code></pre>"},{"location":"api/display/#listwindowinfos","title":"ListWindowInfos","text":"<pre><code>func (s *Service) ListWindowInfos() []*WindowInfo\n</code></pre>"},{"location":"api/display/#window-position-size","title":"Window Position &amp; Size","text":"<pre><code>func (s *Service) SetWindowPosition(name string, x, y int) error\nfunc (s *Service) SetWindowSize(name string, width, height int) error\nfunc (s *Service) SetWindowBounds(name string, x, y, width, height int) error\n</code></pre>"},{"location":"api/display/#window-state","title":"Window State","text":"<pre><code>func (s *Service) MaximizeWindow(name string) error\nfunc (s *Service) MinimizeWindow(name string) error\nfunc (s *Service) RestoreWindow(name string) error\nfunc (s *Service) FocusWindow(name string) error\nfunc (s *Service) SetWindowFullscreen(name string, fullscreen bool) error\nfunc (s *Service) SetWindowAlwaysOnTop(name string, onTop bool) error\nfunc (s *Service) SetWindowVisibility(name string, visible bool) error\n</code></pre>"},{"location":"api/display/#window-title","title":"Window Title","text":"<pre><code>func (s *Service) SetWindowTitle(name, title string) error\nfunc (s *Service) GetWindowTitle(name string) (string, error)\n</code></pre>"},{"location":"api/display/#window-background","title":"Window Background","text":"<pre><code>func (s *Service) SetWindowBackgroundColour(name string, r, g, b, a uint8) error\n</code></pre>"},{"location":"api/display/#focus","title":"Focus","text":"<pre><code>func (s *Service) GetFocusedWindow() string\n</code></pre>"},{"location":"api/display/#screen-management","title":"Screen Management","text":""},{"location":"api/display/#getscreens","title":"GetScreens","text":"<pre><code>func (s *Service) GetScreens() []*Screen\n</code></pre> <p>Returns:</p> <pre><code>type Screen struct {\n    ID          string\n    Name        string\n    X           int\n    Y           int\n    Width       int\n    Height      int\n    ScaleFactor float64\n    IsPrimary   bool\n}\n</code></pre>"},{"location":"api/display/#getscreen","title":"GetScreen","text":"<pre><code>func (s *Service) GetScreen(id string) (*Screen, error)\n</code></pre>"},{"location":"api/display/#getprimaryscreen","title":"GetPrimaryScreen","text":"<pre><code>func (s *Service) GetPrimaryScreen() (*Screen, error)\n</code></pre>"},{"location":"api/display/#getscreenatpoint","title":"GetScreenAtPoint","text":"<pre><code>func (s *Service) GetScreenAtPoint(x, y int) (*Screen, error)\n</code></pre>"},{"location":"api/display/#getscreenforwindow","title":"GetScreenForWindow","text":"<pre><code>func (s *Service) GetScreenForWindow(name string) (*Screen, error)\n</code></pre>"},{"location":"api/display/#getworkareas","title":"GetWorkAreas","text":"<pre><code>func (s *Service) GetWorkAreas() []*WorkArea\n</code></pre> <p>Returns usable screen space (excluding dock/taskbar).</p>"},{"location":"api/display/#layout-management","title":"Layout Management","text":""},{"location":"api/display/#savelayout-restorelayout","title":"SaveLayout / RestoreLayout","text":"<pre><code>func (s *Service) SaveLayout(name string) error\nfunc (s *Service) RestoreLayout(name string) error\nfunc (s *Service) ListLayouts() []string\nfunc (s *Service) DeleteLayout(name string) error\nfunc (s *Service) GetLayout(name string) *Layout\n</code></pre>"},{"location":"api/display/#tilewindows","title":"TileWindows","text":"<pre><code>func (s *Service) TileWindows(mode TileMode, windows []string) error\n</code></pre> <p>Tile modes:</p> <pre><code>const (\n    TileModeLeft      TileMode = \"left\"\n    TileModeRight     TileMode = \"right\"\n    TileModeGrid      TileMode = \"grid\"\n    TileModeQuadrants TileMode = \"quadrants\"\n)\n</code></pre>"},{"location":"api/display/#snapwindow","title":"SnapWindow","text":"<pre><code>func (s *Service) SnapWindow(name string, position SnapPosition) error\n</code></pre> <p>Snap positions:</p> <pre><code>const (\n    SnapPositionLeft        SnapPosition = \"left\"\n    SnapPositionRight       SnapPosition = \"right\"\n    SnapPositionTop         SnapPosition = \"top\"\n    SnapPositionBottom      SnapPosition = \"bottom\"\n    SnapPositionTopLeft     SnapPosition = \"top-left\"\n    SnapPositionTopRight    SnapPosition = \"top-right\"\n    SnapPositionBottomLeft  SnapPosition = \"bottom-left\"\n    SnapPositionBottomRight SnapPosition = \"bottom-right\"\n)\n</code></pre>"},{"location":"api/display/#stackwindows","title":"StackWindows","text":"<pre><code>func (s *Service) StackWindows(windows []string, offsetX, offsetY int) error\n</code></pre>"},{"location":"api/display/#applyworkflowlayout","title":"ApplyWorkflowLayout","text":"<pre><code>func (s *Service) ApplyWorkflowLayout(workflow WorkflowType) error\n</code></pre> <p>Workflow types:</p> <pre><code>const (\n    WorkflowCoding    WorkflowType = \"coding\"\n    WorkflowDebugging WorkflowType = \"debugging\"\n    WorkflowPresenting WorkflowType = \"presenting\"\n)\n</code></pre>"},{"location":"api/display/#dialogs","title":"Dialogs","text":""},{"location":"api/display/#file-dialogs","title":"File Dialogs","text":"<pre><code>func (s *Service) OpenSingleFileDialog(opts OpenFileOptions) (string, error)\nfunc (s *Service) OpenFileDialog(opts OpenFileOptions) ([]string, error)\nfunc (s *Service) SaveFileDialog(opts SaveFileOptions) (string, error)\nfunc (s *Service) OpenDirectoryDialog(opts OpenDirectoryOptions) (string, error)\n</code></pre> <p>Options:</p> <pre><code>type OpenFileOptions struct {\n    Title            string\n    DefaultDirectory string\n    AllowMultiple    bool\n    Filters          []FileFilter\n}\n\ntype SaveFileOptions struct {\n    Title            string\n    DefaultDirectory string\n    DefaultFilename  string\n    Filters          []FileFilter\n}\n\ntype FileFilter struct {\n    DisplayName string\n    Pattern     string  // e.g., \"*.png;*.jpg\"\n}\n</code></pre>"},{"location":"api/display/#confirmdialog","title":"ConfirmDialog","text":"<pre><code>func (s *Service) ConfirmDialog(title, message string) (bool, error)\n</code></pre>"},{"location":"api/display/#promptdialog","title":"PromptDialog","text":"<pre><code>func (s *Service) PromptDialog(title, message string) (string, bool, error)\n</code></pre>"},{"location":"api/display/#system-tray","title":"System Tray","text":"<pre><code>func (s *Service) SetTrayIcon(icon []byte) error\nfunc (s *Service) SetTrayTooltip(tooltip string) error\nfunc (s *Service) SetTrayLabel(label string) error\nfunc (s *Service) SetTrayMenu(items []TrayMenuItem) error\nfunc (s *Service) GetTrayInfo() map[string]any\n</code></pre> <p>Menu item:</p> <pre><code>type TrayMenuItem struct {\n    Label       string\n    ActionID    string\n    IsSeparator bool\n}\n</code></pre>"},{"location":"api/display/#clipboard","title":"Clipboard","text":"<pre><code>func (s *Service) ReadClipboard() (string, error)\nfunc (s *Service) WriteClipboard(text string) error\nfunc (s *Service) HasClipboard() bool\nfunc (s *Service) ClearClipboard() error\n</code></pre>"},{"location":"api/display/#notifications","title":"Notifications","text":"<pre><code>func (s *Service) ShowNotification(opts NotificationOptions) error\nfunc (s *Service) ShowInfoNotification(title, message string) error\nfunc (s *Service) ShowWarningNotification(title, message string) error\nfunc (s *Service) ShowErrorNotification(title, message string) error\nfunc (s *Service) RequestNotificationPermission() (bool, error)\nfunc (s *Service) CheckNotificationPermission() (bool, error)\n</code></pre> <p>Options:</p> <pre><code>type NotificationOptions struct {\n    ID       string\n    Title    string\n    Message  string\n    Subtitle string\n}\n</code></pre>"},{"location":"api/display/#theme","title":"Theme","text":"<pre><code>func (s *Service) GetTheme() *Theme\nfunc (s *Service) GetSystemTheme() string\n</code></pre> <p>Returns:</p> <pre><code>type Theme struct {\n    IsDark bool\n}\n</code></pre>"},{"location":"api/display/#events","title":"Events","text":"<pre><code>func (s *Service) GetEventManager() *EventManager\n</code></pre> <p>The EventManager handles WebSocket connections for real-time events.</p>"},{"location":"core/ipc/","title":"IPC &amp; Actions","text":"<p>Core provides an inter-process communication system for services to communicate without tight coupling.</p>"},{"location":"core/ipc/#message-structure","title":"Message Structure","text":"<pre><code>type Message struct {\n    Type      string         // Message type identifier\n    Data      map[string]any // Message payload\n    Source    string         // Originating service (optional)\n    Timestamp time.Time      // When message was created\n}\n</code></pre>"},{"location":"core/ipc/#sending-messages","title":"Sending Messages","text":"<pre><code>c.ACTION(core.Message{\n    Type: \"user.created\",\n    Data: map[string]any{\n        \"id\":    \"123\",\n        \"email\": \"user@example.com\",\n    },\n})\n</code></pre>"},{"location":"core/ipc/#handling-messages","title":"Handling Messages","text":"<p>Register action handlers during service initialization:</p> <pre><code>func NewNotificationService(c *core.Core) (any, error) {\n    svc := &amp;NotificationService{}\n\n    // Register handler\n    c.RegisterAction(func(c *core.Core, msg core.Message) error {\n        return svc.handleAction(msg)\n    })\n\n    return svc, nil\n}\n\nfunc (s *NotificationService) handleAction(msg core.Message) error {\n    switch msg.Type {\n    case \"user.created\":\n        email := msg.Data[\"email\"].(string)\n        return s.sendWelcomeEmail(email)\n    }\n    return nil\n}\n</code></pre>"},{"location":"core/ipc/#auto-discovery","title":"Auto-Discovery","text":"<p>Services implementing <code>HandleIPCEvents</code> are automatically registered:</p> <pre><code>type MyService struct{}\n\n// Automatically registered when using WithService\nfunc (s *MyService) HandleIPCEvents(c *core.Core, msg core.Message) error {\n    // Handle messages\n    return nil\n}\n</code></pre>"},{"location":"core/ipc/#common-patterns","title":"Common Patterns","text":""},{"location":"core/ipc/#requestresponse","title":"Request/Response","text":"<pre><code>// Sender\nresponseChan := make(chan any)\nc.ACTION(core.Message{\n    Type: \"data.request\",\n    Data: map[string]any{\n        \"query\":    \"SELECT * FROM users\",\n        \"response\": responseChan,\n    },\n})\nresult := &lt;-responseChan\n\n// Handler\nfunc (s *DataService) handleAction(msg core.Message) error {\n    if msg.Type == \"data.request\" {\n        query := msg.Data[\"query\"].(string)\n        respChan := msg.Data[\"response\"].(chan any)\n\n        result, err := s.execute(query)\n        if err != nil {\n            return err\n        }\n\n        respChan &lt;- result\n    }\n    return nil\n}\n</code></pre>"},{"location":"core/ipc/#event-broadcasting","title":"Event Broadcasting","text":"<pre><code>// Broadcast to all listeners\nc.ACTION(core.Message{\n    Type: \"system.config.changed\",\n    Data: map[string]any{\n        \"key\":   \"theme\",\n        \"value\": \"dark\",\n    },\n})\n</code></pre>"},{"location":"core/ipc/#best-practices","title":"Best Practices","text":"<ol> <li>Use namespaced types - <code>service.action</code> format</li> <li>Keep payloads simple - Use primitive types when possible</li> <li>Handle errors - Return errors from handlers</li> <li>Document message types - Create constants for message types</li> </ol>"},{"location":"core/lifecycle/","title":"Service Lifecycle","text":"<p>Core provides lifecycle hooks for services to initialize and clean up resources.</p>"},{"location":"core/lifecycle/#lifecycle-interfaces","title":"Lifecycle Interfaces","text":""},{"location":"core/lifecycle/#startable","title":"Startable","text":"<p>Called when the application starts:</p> <pre><code>type Startable interface {\n    OnStartup(ctx context.Context) error\n}\n</code></pre>"},{"location":"core/lifecycle/#stoppable","title":"Stoppable","text":"<p>Called when the application shuts down:</p> <pre><code>type Stoppable interface {\n    OnShutdown(ctx context.Context) error\n}\n</code></pre>"},{"location":"core/lifecycle/#implementation-example","title":"Implementation Example","text":"<pre><code>type DatabaseService struct {\n    db *sql.DB\n}\n\nfunc (s *DatabaseService) OnStartup(ctx context.Context) error {\n    db, err := sql.Open(\"postgres\", os.Getenv(\"DATABASE_URL\"))\n    if err != nil {\n        return err\n    }\n\n    // Verify connection\n    if err := db.PingContext(ctx); err != nil {\n        return err\n    }\n\n    s.db = db\n    return nil\n}\n\nfunc (s *DatabaseService) OnShutdown(ctx context.Context) error {\n    if s.db != nil {\n        return s.db.Close()\n    }\n    return nil\n}\n</code></pre>"},{"location":"core/lifecycle/#lifecycle-order","title":"Lifecycle Order","text":"<ol> <li>Registration: Services registered via <code>core.New()</code></li> <li>Wails Binding: Services bound to Wails app</li> <li>Startup: <code>OnStartup()</code> called for each Startable service</li> <li>Running: Application runs</li> <li>Shutdown: <code>OnShutdown()</code> called for each Stoppable service</li> </ol>"},{"location":"core/lifecycle/#context-usage","title":"Context Usage","text":"<p>The context passed to lifecycle methods includes:</p> <ul> <li>Cancellation signal for graceful shutdown</li> <li>Deadline for timeout handling</li> </ul> <pre><code>func (s *Service) OnStartup(ctx context.Context) error {\n    select {\n    case &lt;-ctx.Done():\n        return ctx.Err()\n    case &lt;-s.initialize():\n        return nil\n    }\n}\n</code></pre>"},{"location":"core/lifecycle/#error-handling","title":"Error Handling","text":"<p>If <code>OnStartup</code> returns an error, the application will fail to start:</p> <pre><code>func (s *Service) OnStartup(ctx context.Context) error {\n    if err := s.validate(); err != nil {\n        return fmt.Errorf(\"validation failed: %w\", err)\n    }\n    return nil\n}\n</code></pre>"},{"location":"core/lifecycle/#best-practices","title":"Best Practices","text":"<ol> <li>Keep startup fast - Defer heavy initialization</li> <li>Handle context cancellation - Support graceful shutdown</li> <li>Clean up resources - Always implement OnShutdown for services with resources</li> <li>Log lifecycle events - Helps with debugging</li> </ol>"},{"location":"core/overview/","title":"Core Framework Overview","text":"<p>The Core package (<code>pkg/core</code>) is the foundation of the framework, providing service management, lifecycle handling, and inter-service communication.</p>"},{"location":"core/overview/#creating-a-core-instance","title":"Creating a Core Instance","text":"<pre><code>import \"github.com/Snider/Core/pkg/core\"\n\nc, err := core.New(\n    core.WithAssets(assets),           // Embed frontend assets\n    core.WithService(myServiceFactory), // Register services\n    core.WithServiceLock(),            // Prevent late registration\n)\n</code></pre>"},{"location":"core/overview/#options","title":"Options","text":"Option Description <code>WithService(factory)</code> Register a service with auto-discovered name <code>WithName(name, factory)</code> Register a service with explicit name <code>WithAssets(fs)</code> Embed filesystem for frontend assets <code>WithServiceLock()</code> Lock service registration after init"},{"location":"core/overview/#service-factory-pattern","title":"Service Factory Pattern","text":"<p>Services use factory functions for dependency injection:</p> <pre><code>func NewMyService(c *core.Core) (any, error) {\n    // Get dependencies\n    config := core.MustServiceFor[*config.Service](c, \"config\")\n\n    return &amp;MyService{\n        config: config,\n    }, nil\n}\n</code></pre>"},{"location":"core/overview/#features","title":"Features","text":"<p>Core includes a feature flag system:</p> <pre><code>// Check if feature is enabled\nif c.Features.IsEnabled(\"experimental\") {\n    // Use experimental feature\n}\n\n// Enable a feature\nc.Features.Enable(\"experimental\")\n</code></pre>"},{"location":"core/overview/#error-handling","title":"Error Handling","text":"<p>Use the <code>E()</code> helper for contextual errors:</p> <pre><code>import \"github.com/Snider/Core/pkg/core\"\n\nfunc (s *Service) DoSomething() error {\n    if err := someOperation(); err != nil {\n        return core.E(\"Service.DoSomething\", \"operation failed\", err)\n    }\n    return nil\n}\n</code></pre>"},{"location":"core/overview/#best-practices","title":"Best Practices","text":"<ol> <li>Register all services before starting - Use <code>WithServiceLock()</code> to catch mistakes</li> <li>Use factory functions - Enables proper dependency injection</li> <li>Implement lifecycle interfaces - For proper startup/shutdown</li> <li>Use typed service retrieval - Catches type mismatches at compile time</li> </ol>"},{"location":"core/services/","title":"Services","text":"<p>Services are the building blocks of a Core application. Each service encapsulates a specific domain of functionality.</p>"},{"location":"core/services/#creating-a-service","title":"Creating a Service","text":"<pre><code>package myservice\n\nimport (\n    \"context\"\n    \"github.com/Snider/Core/pkg/core\"\n)\n\ntype Service struct {\n    core *core.Core\n}\n\n// Factory function for registration\nfunc NewService(c *core.Core) (any, error) {\n    return &amp;Service{core: c}, nil\n}\n\n// Implement Startable for startup logic\nfunc (s *Service) OnStartup(ctx context.Context) error {\n    // Initialize resources\n    return nil\n}\n\n// Implement Stoppable for cleanup\nfunc (s *Service) OnShutdown(ctx context.Context) error {\n    // Release resources\n    return nil\n}\n</code></pre>"},{"location":"core/services/#registering-services","title":"Registering Services","text":"<pre><code>c, err := core.New(\n    // Auto-discover name from package path\n    core.WithService(myservice.NewService),\n\n    // Explicit name\n    core.WithName(\"custom\", func(c *core.Core) (any, error) {\n        return &amp;CustomService{}, nil\n    }),\n)\n</code></pre>"},{"location":"core/services/#retrieving-services","title":"Retrieving Services","text":"<pre><code>// Safe retrieval with error\nsvc, err := core.ServiceFor[*myservice.Service](c, \"myservice\")\nif err != nil {\n    log.Printf(\"Service not found: %v\", err)\n}\n\n// Must retrieval (panics if not found)\nsvc := core.MustServiceFor[*myservice.Service](c, \"myservice\")\n</code></pre>"},{"location":"core/services/#service-dependencies","title":"Service Dependencies","text":"<p>Services can depend on other services:</p> <pre><code>func NewOrderService(c *core.Core) (any, error) {\n    // Get required dependencies\n    userSvc := core.MustServiceFor[*user.Service](c, \"user\")\n    paymentSvc := core.MustServiceFor[*payment.Service](c, \"payment\")\n\n    return &amp;OrderService{\n        users:    userSvc,\n        payments: paymentSvc,\n    }, nil\n}\n</code></pre> <p>Dependency Order</p> <p>Register dependencies before services that use them. Core does not automatically resolve dependency order.</p>"},{"location":"core/services/#exposing-to-frontend","title":"Exposing to Frontend","text":"<p>Services are automatically exposed to the frontend via Wails bindings:</p> <pre><code>// Go service method\nfunc (s *Service) GetUser(id string) (*User, error) {\n    return s.db.FindUser(id)\n}\n</code></pre> <pre><code>// TypeScript (auto-generated)\nimport { GetUser } from '@bindings/myservice/service';\n\nconst user = await GetUser(\"123\");\n</code></pre>"},{"location":"core/services/#testing-services","title":"Testing Services","text":"<pre><code>func TestMyService(t *testing.T) {\n    // Create mock core\n    c, _ := core.New()\n\n    // Create service\n    svc, err := NewService(c)\n    if err != nil {\n        t.Fatal(err)\n    }\n\n    // Test methods\n    result := svc.(*Service).DoSomething()\n    assert.Equal(t, expected, result)\n}\n</code></pre>"},{"location":"extensions/modules/","title":"Module System","text":"<p>The Module system (<code>pkg/module</code>) provides a declarative way to register UI menus, routes, and API endpoints using the <code>.itw3.json</code> configuration format.</p>"},{"location":"extensions/modules/#features","title":"Features","text":"<ul> <li>Declarative module configuration</li> <li>UI menu contributions</li> <li>Frontend route registration</li> <li>API endpoint declarations</li> <li>Multi-context support (developer, retail, miner)</li> <li>Binary/daemon management</li> <li>Module dependencies</li> </ul>"},{"location":"extensions/modules/#module-config-format","title":"Module Config Format","text":"<p>Modules are defined using <code>.itw3.json</code> files:</p> <pre><code>{\n    \"code\": \"wallet\",\n    \"type\": \"core\",\n    \"name\": \"Wallet Manager\",\n    \"version\": \"1.0.0\",\n    \"namespace\": \"finance\",\n    \"description\": \"Cryptocurrency wallet management\",\n    \"author\": \"Your Name\",\n    \"contexts\": [\"default\", \"retail\"],\n    \"menu\": [...],\n    \"routes\": [...],\n    \"api\": [...],\n    \"config\": {...}\n}\n</code></pre>"},{"location":"extensions/modules/#module-types","title":"Module Types","text":"Type Description <code>core</code> Built-in core functionality <code>app</code> External web application <code>bin</code> Binary/daemon wrapper"},{"location":"extensions/modules/#ui-contexts","title":"UI Contexts","text":"<p>Modules can target specific UI contexts:</p> Context Description <code>default</code> Standard user interface <code>developer</code> Developer tools and debugging <code>retail</code> Point-of-sale interface <code>miner</code> Mining operations interface"},{"location":"extensions/modules/#menu-contributions","title":"Menu Contributions","text":"<p>Add items to the application menu:</p> <pre><code>{\n    \"menu\": [\n        {\n            \"id\": \"wallet-send\",\n            \"label\": \"Send Funds\",\n            \"icon\": \"send\",\n            \"route\": \"/wallet/send\",\n            \"accelerator\": \"CmdOrCtrl+Shift+S\",\n            \"contexts\": [\"default\", \"retail\"],\n            \"order\": 10\n        },\n        {\n            \"id\": \"wallet-receive\",\n            \"label\": \"Receive\",\n            \"icon\": \"receive\",\n            \"route\": \"/wallet/receive\",\n            \"order\": 20\n        },\n        {\n            \"separator\": true\n        },\n        {\n            \"id\": \"wallet-settings\",\n            \"label\": \"Settings\",\n            \"action\": \"wallet.open_settings\",\n            \"children\": [\n                {\"id\": \"wallet-backup\", \"label\": \"Backup\", \"action\": \"wallet.backup\"},\n                {\"id\": \"wallet-restore\", \"label\": \"Restore\", \"action\": \"wallet.restore\"}\n            ]\n        }\n    ]\n}\n</code></pre>"},{"location":"extensions/modules/#route-contributions","title":"Route Contributions","text":"<p>Register frontend routes:</p> <pre><code>{\n    \"routes\": [\n        {\n            \"path\": \"/wallet\",\n            \"component\": \"wallet-dashboard\",\n            \"title\": \"Wallet\",\n            \"icon\": \"wallet\",\n            \"contexts\": [\"default\"]\n        },\n        {\n            \"path\": \"/wallet/send\",\n            \"component\": \"wallet-send-form\",\n            \"title\": \"Send Funds\"\n        }\n    ]\n}\n</code></pre>"},{"location":"extensions/modules/#api-declarations","title":"API Declarations","text":"<p>Declare API endpoints the module provides:</p> <pre><code>{\n    \"api\": [\n        {\n            \"method\": \"GET\",\n            \"path\": \"/balance\",\n            \"description\": \"Get wallet balance\"\n        },\n        {\n            \"method\": \"POST\",\n            \"path\": \"/send\",\n            \"description\": \"Send transaction\"\n        }\n    ]\n}\n</code></pre>"},{"location":"extensions/modules/#binary-downloads","title":"Binary Downloads","text":"<p>For <code>bin</code> type modules, specify platform binaries:</p> <pre><code>{\n    \"downloads\": {\n        \"app\": \"https://example.com/wallet-ui.tar.gz\",\n        \"x86_64\": {\n            \"darwin\": {\n                \"url\": \"https://example.com/wallet-darwin-x64\",\n                \"checksum\": \"sha256:abc123...\"\n            },\n            \"linux\": {\n                \"url\": \"https://example.com/wallet-linux-x64\",\n                \"checksum\": \"sha256:def456...\"\n            },\n            \"windows\": {\n                \"url\": \"https://example.com/wallet-win-x64.exe\",\n                \"checksum\": \"sha256:ghi789...\"\n            }\n        },\n        \"aarch64\": {\n            \"darwin\": {\n                \"url\": \"https://example.com/wallet-darwin-arm64\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"extensions/modules/#web-app-configuration","title":"Web App Configuration","text":"<p>For <code>app</code> type modules:</p> <pre><code>{\n    \"app\": {\n        \"url\": \"https://example.com/wallet-app.tar.gz\",\n        \"type\": \"spa\",\n        \"hooks\": [\n            {\n                \"type\": \"rename\",\n                \"from\": \"dist\",\n                \"to\": \"wallet\"\n            }\n        ]\n    }\n}\n</code></pre>"},{"location":"extensions/modules/#dependencies","title":"Dependencies","text":"<p>Declare module dependencies:</p> <pre><code>{\n    \"depends\": [\"core\", \"crypto\"]\n}\n</code></pre>"},{"location":"extensions/modules/#using-in-go","title":"Using in Go","text":""},{"location":"extensions/modules/#module-registration","title":"Module Registration","text":"<pre><code>import \"github.com/Snider/Core/pkg/module\"\n\n// Create from config\ncfg := module.Config{\n    Code:      \"wallet\",\n    Type:      module.TypeCore,\n    Name:      \"Wallet\",\n    Namespace: \"finance\",\n}\n\nmod := module.Module{\n    Config:  cfg,\n    Handler: myHandler,\n}\n</code></pre>"},{"location":"extensions/modules/#gin-router-integration","title":"Gin Router Integration","text":"<pre><code>type WalletModule struct{}\n\nfunc (m *WalletModule) RegisterRoutes(group *gin.RouterGroup) {\n    group.GET(\"/balance\", m.getBalance)\n    group.POST(\"/send\", m.sendTransaction)\n}\n\n// Register with Gin\nrouter := gin.Default()\napiGroup := router.Group(\"/api/finance/wallet\")\nwalletModule.RegisterRoutes(apiGroup)\n</code></pre>"},{"location":"extensions/modules/#registry-service","title":"Registry Service","text":"<p>The registry manages all modules:</p> <pre><code>import \"github.com/Snider/Core/pkg/module\"\n\nregistry := module.NewRegistry()\n\n// Register module\nregistry.Register(walletModule)\n\n// Get module by code\nmod := registry.Get(\"wallet\")\n\n// List all modules\nmodules := registry.List()\n\n// Get modules for context\ndevModules := registry.ForContext(module.ContextDeveloper)\n</code></pre>"},{"location":"extensions/modules/#built-in-modules","title":"Built-in Modules","text":"<p>Core provides several built-in modules:</p> <ul> <li>System information</li> <li>Configuration management</li> <li>Process management</li> <li>File operations</li> </ul> <p>Access via:</p> <pre><code>builtins := module.BuiltinModules()\n</code></pre>"},{"location":"extensions/plugins/","title":"Plugin System","text":"<p>The Plugin system (<code>pkg/plugin</code>) allows you to extend Core applications with HTTP-based plugins that register routes under <code>/api/{namespace}/{name}/</code>.</p>"},{"location":"extensions/plugins/#features","title":"Features","text":"<ul> <li>Namespace-based organization</li> <li>HTTP handler registration</li> <li>Lifecycle hooks (OnRegister, OnUnregister)</li> <li>Wails service integration</li> </ul>"},{"location":"extensions/plugins/#plugin-interface","title":"Plugin Interface","text":"<p>All plugins implement the <code>Plugin</code> interface:</p> <pre><code>type Plugin interface {\n    // Name returns the unique identifier for this plugin\n    Name() string\n\n    // Namespace returns the plugin's namespace (e.g., \"core\", \"mining\")\n    Namespace() string\n\n    // ServeHTTP handles HTTP requests routed to this plugin\n    http.Handler\n\n    // OnRegister is called when the plugin is registered\n    OnRegister(ctx context.Context) error\n\n    // OnUnregister is called when the plugin is being removed\n    OnUnregister(ctx context.Context) error\n}\n</code></pre>"},{"location":"extensions/plugins/#using-baseplugin","title":"Using BasePlugin","text":"<p>For simple plugins, embed <code>BasePlugin</code>:</p> <pre><code>import \"github.com/Snider/Core/pkg/plugin\"\n\nfunc NewMyPlugin() *plugin.BasePlugin {\n    handler := http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n        w.Write([]byte(\"Hello from plugin!\"))\n    })\n\n    return plugin.NewBasePlugin(\"myapp\", \"greeting\", handler).\n        WithDescription(\"A simple greeting plugin\").\n        WithVersion(\"1.0.0\")\n}\n</code></pre>"},{"location":"extensions/plugins/#custom-plugin-implementation","title":"Custom Plugin Implementation","text":"<p>For more control, implement the full interface:</p> <pre><code>type DataPlugin struct {\n    db *sql.DB\n}\n\nfunc (p *DataPlugin) Name() string      { return \"data\" }\nfunc (p *DataPlugin) Namespace() string { return \"myapp\" }\n\nfunc (p *DataPlugin) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n    switch r.URL.Path {\n    case \"/users\":\n        p.handleUsers(w, r)\n    case \"/items\":\n        p.handleItems(w, r)\n    default:\n        http.NotFound(w, r)\n    }\n}\n\nfunc (p *DataPlugin) OnRegister(ctx context.Context) error {\n    // Initialize database connection\n    db, err := sql.Open(\"postgres\", os.Getenv(\"DATABASE_URL\"))\n    if err != nil {\n        return err\n    }\n    p.db = db\n    return nil\n}\n\nfunc (p *DataPlugin) OnUnregister(ctx context.Context) error {\n    if p.db != nil {\n        return p.db.Close()\n    }\n    return nil\n}\n</code></pre>"},{"location":"extensions/plugins/#plugin-info","title":"Plugin Info","text":"<p>Access plugin metadata:</p> <pre><code>info := myPlugin.Info()\nfmt.Println(info.Name)        // \"greeting\"\nfmt.Println(info.Namespace)   // \"myapp\"\nfmt.Println(info.Description) // \"A simple greeting plugin\"\nfmt.Println(info.Version)     // \"1.0.0\"\n</code></pre>"},{"location":"extensions/plugins/#wails-integration","title":"Wails Integration","text":"<p>Register plugins as Wails services:</p> <pre><code>app := application.New(application.Options{\n    Services: []application.Service{\n        application.NewServiceWithOptions(\n            myPlugin,\n            plugin.ServiceOptionsForPlugin(myPlugin),\n        ),\n    },\n})\n</code></pre>"},{"location":"extensions/plugins/#url-routing","title":"URL Routing","text":"<p>Plugins receive requests at:</p> <pre><code>/api/{namespace}/{name}/{path}\n</code></pre> <p>Examples: - <code>/api/myapp/greeting/</code> \u2192 GreetingPlugin - <code>/api/myapp/data/users</code> \u2192 DataPlugin (path: \"/users\") - <code>/api/core/system/health</code> \u2192 SystemPlugin (path: \"/health\")</p>"},{"location":"extensions/plugins/#built-in-plugins","title":"Built-in Plugins","text":""},{"location":"extensions/plugins/#system-plugin","title":"System Plugin","text":"<p>Located at <code>pkg/plugin/builtin/system</code>:</p> <pre><code>// Provides system information endpoints\n/api/core/system/info    - Application info\n/api/core/system/health  - Health check\n</code></pre>"},{"location":"extensions/plugins/#plugin-router","title":"Plugin Router","text":"<p>The Router manages plugin registration:</p> <pre><code>import \"github.com/Snider/Core/pkg/plugin\"\n\nrouter := plugin.NewRouter()\n\n// Register plugins\nrouter.Register(ctx, myPlugin)\nrouter.Register(ctx, dataPlugin)\n\n// Get all registered plugins\nplugins := router.List()\n\n// Unregister a plugin\nrouter.Unregister(ctx, \"myapp\", \"greeting\")\n</code></pre>"},{"location":"extensions/plugins/#best-practices","title":"Best Practices","text":"<ol> <li>Use namespaces to group related plugins</li> <li>Implement OnRegister for initialization that can fail</li> <li>Implement OnUnregister to clean up resources</li> <li>Return meaningful errors from lifecycle hooks</li> <li>Use standard HTTP patterns in ServeHTTP</li> </ol>"},{"location":"getting-started/architecture/","title":"Architecture","text":"<p>Core follows a modular, service-based architecture designed for maintainability and testability.</p>"},{"location":"getting-started/architecture/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Wails Application                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                        Core                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 Display  \u2502 \u2502 WebView  \u2502 \u2502   MCP    \u2502 \u2502  Config  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Crypt   \u2502 \u2502   I18n   \u2502 \u2502    IO    \u2502 \u2502Workspace \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    Plugin System                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502 Plugin A \u2502 \u2502 Plugin B \u2502 \u2502 Plugin C \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/architecture/#core-container","title":"Core Container","text":"<p>The <code>Core</code> struct is the central service container:</p> <pre><code>type Core struct {\n    services       map[string]any      // Service registry\n    actions        []ActionHandler     // IPC handlers\n    Features       *Features           // Feature flags\n    servicesLocked bool                // Prevent late registration\n}\n</code></pre>"},{"location":"getting-started/architecture/#service-registration","title":"Service Registration","text":"<p>Services are registered using factory functions:</p> <pre><code>core.New(\n    core.WithService(display.NewService),  // Auto-discovered name\n    core.WithName(\"custom\", myFactory),    // Explicit name\n)\n</code></pre>"},{"location":"getting-started/architecture/#service-retrieval","title":"Service Retrieval","text":"<p>Type-safe service retrieval:</p> <pre><code>// Returns error if not found\nsvc, err := core.ServiceFor[*display.Service](c, \"display\")\n\n// Panics if not found (use in init code)\nsvc := core.MustServiceFor[*display.Service](c, \"display\")\n</code></pre>"},{"location":"getting-started/architecture/#service-lifecycle","title":"Service Lifecycle","text":"<p>Services can implement lifecycle interfaces:</p> <pre><code>// Called when app starts\ntype Startable interface {\n    OnStartup(ctx context.Context) error\n}\n\n// Called when app shuts down\ntype Stoppable interface {\n    OnShutdown(ctx context.Context) error\n}\n</code></pre>"},{"location":"getting-started/architecture/#ipc-actions","title":"IPC / Actions","text":"<p>Services communicate via the action system:</p> <pre><code>// Register a handler\nc.RegisterAction(func(c *core.Core, msg core.Message) error {\n    if msg.Type == \"my-action\" {\n        // Handle message\n    }\n    return nil\n})\n\n// Send a message\nc.ACTION(core.Message{\n    Type: \"my-action\",\n    Data: map[string]any{\"key\": \"value\"},\n})\n</code></pre>"},{"location":"getting-started/architecture/#frontend-bindings","title":"Frontend Bindings","text":"<p>Wails generates TypeScript bindings automatically:</p> <pre><code>// Auto-generated from Go service\nimport { ShowNotification } from '@bindings/display/service';\n\nawait ShowNotification({\n    title: \"Hello\",\n    message: \"From TypeScript!\"\n});\n</code></pre>"},{"location":"getting-started/architecture/#package-structure","title":"Package Structure","text":"<pre><code>pkg/\n\u251c\u2500\u2500 core/           # Core container and interfaces\n\u251c\u2500\u2500 display/        # Window, tray, dialogs, clipboard\n\u251c\u2500\u2500 webview/        # JS execution, DOM, screenshots\n\u251c\u2500\u2500 mcp/            # Model Context Protocol server\n\u251c\u2500\u2500 config/         # Configuration persistence\n\u251c\u2500\u2500 crypt/          # Encryption and signing\n\u251c\u2500\u2500 i18n/           # Internationalization\n\u251c\u2500\u2500 io/             # File system helpers\n\u251c\u2500\u2500 workspace/      # Project management\n\u251c\u2500\u2500 plugin/         # Plugin system\n\u2514\u2500\u2500 module/         # Module system\n</code></pre>"},{"location":"getting-started/architecture/#design-principles","title":"Design Principles","text":"<ol> <li>Dependency Injection: Services receive dependencies via constructor</li> <li>Interface Segregation: Small, focused interfaces</li> <li>Testability: All services are mockable</li> <li>No Globals: State contained in Core instance</li> </ol>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":""},{"location":"getting-started/installation/#go-122","title":"Go 1.22+","text":"<pre><code># macOS\nbrew install go\n\n# Linux\nsudo apt install golang-go\n\n# Windows - download from https://go.dev/dl/\n</code></pre>"},{"location":"getting-started/installation/#wails-v3","title":"Wails v3","text":"<pre><code>go install github.com/wailsapp/wails/v3/cmd/wails3@latest\n</code></pre>"},{"location":"getting-started/installation/#task-build-automation","title":"Task (Build Automation)","text":"<pre><code># macOS\nbrew install go-task\n\n# Linux\nsh -c \"$(curl --location https://taskfile.dev/install.sh)\" -- -d\n\n# Windows\nchoco install go-task\n</code></pre>"},{"location":"getting-started/installation/#install-core","title":"Install Core","text":"<pre><code>go get github.com/Snider/Core@latest\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check Go\ngo version\n\n# Check Wails\nwails3 version\n\n# Check Task\ntask --version\n</code></pre>"},{"location":"getting-started/installation/#ide-setup","title":"IDE Setup","text":""},{"location":"getting-started/installation/#vs-code","title":"VS Code","text":"<p>Install the Go extension and configure:</p> <pre><code>{\n  \"go.useLanguageServer\": true,\n  \"gopls\": {\n    \"ui.semanticTokens\": true\n  }\n}\n</code></pre>"},{"location":"getting-started/installation/#goland-intellij","title":"GoLand / IntelliJ","text":"<p>Go support is built-in. Enable the Wails plugin for additional features.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Continue to Quick Start to create your first application.</p>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Build a simple Core application in 5 minutes.</p>"},{"location":"getting-started/quickstart/#create-project","title":"Create Project","text":"<pre><code>mkdir myapp &amp;&amp; cd myapp\ngo mod init myapp\n</code></pre>"},{"location":"getting-started/quickstart/#install-dependencies","title":"Install Dependencies","text":"<pre><code>go get github.com/Snider/Core@latest\ngo get github.com/wailsapp/wails/v3@latest\n</code></pre>"},{"location":"getting-started/quickstart/#create-main-file","title":"Create Main File","text":"<p>Create <code>main.go</code>:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"embed\"\n    \"log\"\n\n    \"github.com/Snider/Core/pkg/core\"\n    \"github.com/Snider/Core/pkg/display\"\n    \"github.com/wailsapp/wails/v3/pkg/application\"\n)\n\n//go:embed all:frontend/dist\nvar assets embed.FS\n\nfunc main() {\n    // Initialize Core with display service\n    c, err := core.New(\n        core.WithAssets(assets),\n        core.WithService(display.NewService),\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    // Get display service for window creation\n    displaySvc := core.MustServiceFor[*display.Service](c, \"display\")\n\n    // Create Wails application\n    app := application.New(application.Options{\n        Name: \"My App\",\n        Assets: application.AssetOptions{\n            FS: assets,\n        },\n    })\n\n    // Create main window\n    app.NewWebviewWindowWithOptions(application.WebviewWindowOptions{\n        Title:  \"My App\",\n        Width:  1200,\n        Height: 800,\n        URL:    \"/\",\n    })\n\n    // Register display service with Wails\n    app.RegisterService(displaySvc)\n\n    // Run application\n    if err := app.Run(); err != nil {\n        log.Fatal(err)\n    }\n}\n</code></pre>"},{"location":"getting-started/quickstart/#create-frontend","title":"Create Frontend","text":"<p>Create a minimal frontend:</p> <pre><code>mkdir -p frontend/dist\n</code></pre> <p>Create <code>frontend/dist/index.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;My App&lt;/title&gt;\n    &lt;style&gt;\n        body {\n            font-family: system-ui, sans-serif;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n            background: #1a1a2e;\n            color: #eee;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello from Core!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"getting-started/quickstart/#run-development-mode","title":"Run Development Mode","text":"<pre><code>wails3 dev\n</code></pre>"},{"location":"getting-started/quickstart/#build-for-production","title":"Build for Production","text":"<pre><code>wails3 build\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Architecture - Understand how Core works</li> <li>Display Service - Window and dialog management</li> <li>MCP Integration - AI tool support</li> </ul>"},{"location":"gui/mcp-bridge/","title":"MCP Bridge","text":"<p>The MCP Bridge (<code>cmd/core-gui/mcp_bridge.go</code>) connects the Model Context Protocol server with Display, WebView, and WebSocket services.</p>"},{"location":"gui/mcp-bridge/#overview","title":"Overview","text":"<p>The MCP Bridge provides an HTTP API for AI assistants to interact with the desktop application, enabling:</p> <ul> <li>Window and screen management</li> <li>JavaScript execution in webviews</li> <li>DOM interaction (click, type, select)</li> <li>Screenshot capture</li> <li>File and process management</li> <li>Real-time events via WebSocket</li> </ul>"},{"location":"gui/mcp-bridge/#http-endpoints","title":"HTTP Endpoints","text":"Endpoint Description <code>GET /health</code> Health check <code>GET /mcp</code> Server capabilities <code>GET /mcp/tools</code> List available tools <code>POST /mcp/call</code> Execute a tool <code>WS /ws</code> WebSocket for GUI clients <code>WS /events</code> WebSocket for display events"},{"location":"gui/mcp-bridge/#server-capabilities","title":"Server Capabilities","text":"<pre><code>curl http://localhost:9877/mcp\n</code></pre> <p>Response:</p> <pre><code>{\n    \"name\": \"core\",\n    \"version\": \"0.1.0\",\n    \"capabilities\": {\n        \"webview\": true,\n        \"display\": true,\n        \"windowControl\": true,\n        \"screenControl\": true,\n        \"websocket\": \"ws://localhost:9877/ws\",\n        \"events\": \"ws://localhost:9877/events\"\n    }\n}\n</code></pre>"},{"location":"gui/mcp-bridge/#tool-categories","title":"Tool Categories","text":""},{"location":"gui/mcp-bridge/#file-operations","title":"File Operations","text":"Tool Description <code>file_read</code> Read file contents <code>file_write</code> Write content to file <code>file_edit</code> Edit file by replacing text <code>file_delete</code> Delete a file <code>file_exists</code> Check if file exists <code>dir_list</code> List directory contents <code>dir_create</code> Create directory"},{"location":"gui/mcp-bridge/#window-control","title":"Window Control","text":"Tool Description <code>window_list</code> List all windows <code>window_create</code> Create new window <code>window_close</code> Close window <code>window_position</code> Move window <code>window_size</code> Resize window <code>window_maximize</code> Maximize window <code>window_minimize</code> Minimize window <code>window_focus</code> Bring window to front"},{"location":"gui/mcp-bridge/#webview-interaction","title":"WebView Interaction","text":"Tool Description <code>webview_eval</code> Execute JavaScript <code>webview_click</code> Click element <code>webview_type</code> Type into element <code>webview_screenshot</code> Capture page <code>webview_navigate</code> Navigate to URL <code>webview_console</code> Get console messages"},{"location":"gui/mcp-bridge/#screen-management","title":"Screen Management","text":"Tool Description <code>screen_list</code> List all monitors <code>screen_primary</code> Get primary screen <code>screen_at_point</code> Get screen at coordinates <code>screen_work_areas</code> Get usable screen space"},{"location":"gui/mcp-bridge/#layout-management","title":"Layout Management","text":"Tool Description <code>layout_save</code> Save window arrangement <code>layout_restore</code> Restore saved layout <code>layout_tile</code> Auto-tile windows <code>layout_snap</code> Snap window to edge"},{"location":"gui/mcp-bridge/#calling-tools","title":"Calling Tools","text":"<pre><code># List windows\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tool\": \"window_list\", \"params\": {}}'\n\n# Move window\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"tool\": \"window_position\",\n    \"params\": {\"name\": \"main\", \"x\": 100, \"y\": 100}\n  }'\n\n# Execute JavaScript\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"tool\": \"webview_eval\",\n    \"params\": {\n      \"window\": \"main\",\n      \"code\": \"document.title\"\n    }\n  }'\n\n# Click element\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"tool\": \"webview_click\",\n    \"params\": {\n      \"window\": \"main\",\n      \"selector\": \"#submit-button\"\n    }\n  }'\n\n# Take screenshot\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"tool\": \"webview_screenshot\",\n    \"params\": {\"window\": \"main\"}\n  }'\n</code></pre>"},{"location":"gui/mcp-bridge/#websocket-events","title":"WebSocket Events","text":"<p>Connect to <code>/events</code> for real-time display events:</p> <pre><code>const ws = new WebSocket('ws://localhost:9877/events');\n\nws.onmessage = (event) =&gt; {\n    const data = JSON.parse(event.data);\n    switch (data.type) {\n        case 'window.focus':\n            console.log('Window focused:', data.name);\n            break;\n        case 'window.move':\n            console.log('Window moved:', data.name, data.x, data.y);\n            break;\n        case 'theme.change':\n            console.log('Theme changed:', data.isDark);\n            break;\n    }\n};\n</code></pre> <p>Event types:</p> <ul> <li><code>window.focus</code> - Window received focus</li> <li><code>window.blur</code> - Window lost focus</li> <li><code>window.move</code> - Window position changed</li> <li><code>window.resize</code> - Window size changed</li> <li><code>window.close</code> - Window was closed</li> <li><code>window.create</code> - New window created</li> <li><code>theme.change</code> - System theme changed</li> <li><code>screen.change</code> - Screen configuration changed</li> </ul>"},{"location":"gui/mcp-bridge/#go-integration","title":"Go Integration","text":"<pre><code>import \"github.com/Snider/Core/cmd/core-gui\"\n\n// Create bridge\nbridge := NewMCPBridge(9877, displayService)\n\n// Access services\nmcpSvc := bridge.GetMCPService()\nwebview := bridge.GetWebView()\ndisplay := bridge.GetDisplay()\n</code></pre>"},{"location":"gui/mcp-bridge/#configuration","title":"Configuration","text":"<p>The bridge starts automatically on Wails app startup via the <code>ServiceStartup</code> lifecycle hook:</p> <pre><code>func (b *MCPBridge) ServiceStartup(ctx context.Context, options application.ServiceOptions) error {\n    b.app = application.Get()\n    b.webview.SetApp(b.app)\n    go b.startHTTPServer()\n    return nil\n}\n</code></pre>"},{"location":"gui/mcp-bridge/#security","title":"Security","text":"<p>The MCP server binds to localhost only by default. For production:</p> <ul> <li>Consider firewall rules</li> <li>Add authentication if needed</li> <li>Limit exposed tools</li> </ul>"},{"location":"gui/overview/","title":"GUI Application","text":"<p>The Core GUI (<code>cmd/core-gui</code>) is a Wails v3 desktop application that demonstrates the Core framework capabilities with integrated MCP support.</p>"},{"location":"gui/overview/#features","title":"Features","text":"<ul> <li>Angular frontend with Wails bindings</li> <li>MCP HTTP server for AI tool integration</li> <li>WebView automation capabilities</li> <li>Real-time WebSocket communication</li> <li>System tray support</li> <li>Multi-window management</li> </ul>"},{"location":"gui/overview/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Angular Frontend            \u2502\n\u2502         (TypeScript + Wails Bindings)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502 IPC\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Wails Runtime              \u2502\n\u2502         (Window, Events, Bindings)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              MCP Bridge                  \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502   \u2502 Display \u2502 WebView  \u2502 WebSocket   \u2502  \u2502\n\u2502   \u2502 Service \u2502 Service  \u2502 Hub         \u2502  \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"gui/overview/#running-the-gui","title":"Running the GUI","text":""},{"location":"gui/overview/#development-mode","title":"Development Mode","text":"<pre><code># From project root\ntask gui:dev\n\n# Or directly\ncd cmd/core-gui\nwails3 dev\n</code></pre>"},{"location":"gui/overview/#production-build","title":"Production Build","text":"<pre><code>task gui:build\n</code></pre>"},{"location":"gui/overview/#directory-structure","title":"Directory Structure","text":"<pre><code>cmd/core-gui/\n\u251c\u2500\u2500 main.go           # Application entry point\n\u251c\u2500\u2500 mcp_bridge.go     # MCP HTTP server and tool handler\n\u251c\u2500\u2500 claude_bridge.go  # Claude MCP client (optional)\n\u251c\u2500\u2500 frontend/         # Angular application\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 app/      # Angular components\n\u2502   \u2502   \u2514\u2500\u2500 lib/      # Shared utilities\n\u2502   \u2514\u2500\u2500 bindings/     # Generated Wails bindings\n\u2514\u2500\u2500 public/           # Static assets\n</code></pre>"},{"location":"gui/overview/#services-integrated","title":"Services Integrated","text":"<p>The GUI integrates several Core services:</p> Service Purpose Display Window management, dialogs, tray WebView JavaScript execution, DOM interaction MCP AI tool protocol server WebSocket Real-time communication"},{"location":"gui/overview/#configuration","title":"Configuration","text":"<p>The application uses the Config service for settings:</p> <pre><code>// Default settings\nDefaultRoute: \"/\"\nLanguage: \"en\"\nFeatures: []\n</code></pre>"},{"location":"gui/overview/#frontend-bindings","title":"Frontend Bindings","text":"<p>Wails generates TypeScript bindings for Go services:</p> <pre><code>import { CreateWindow, ShowNotification } from '@bindings/display/service';\nimport { Translate, SetLanguage } from '@bindings/i18n/service';\n\n// Create a new window\nawait CreateWindow({\n    name: \"settings\",\n    title: \"Settings\",\n    width: 800,\n    height: 600\n});\n\n// Show notification\nawait ShowNotification({\n    title: \"Success\",\n    message: \"Operation completed!\"\n});\n</code></pre>"},{"location":"gui/overview/#websocket-communication","title":"WebSocket Communication","text":"<p>Connect to the WebSocket endpoint for real-time updates:</p> <pre><code>const ws = new WebSocket('ws://localhost:9877/ws');\n\nws.onmessage = (event) =&gt; {\n    const data = JSON.parse(event.data);\n    console.log('Received:', data);\n};\n\nws.send(JSON.stringify({\n    type: 'ping',\n    data: {}\n}));\n</code></pre>"},{"location":"gui/overview/#system-tray","title":"System Tray","text":"<p>The application includes system tray support:</p> <pre><code>// Set tray menu\ndisplay.SetTrayMenu([]display.TrayMenuItem{\n    {Label: \"Open\", ActionID: \"open\"},\n    {Label: \"Settings\", ActionID: \"settings\"},\n    {IsSeparator: true},\n    {Label: \"Quit\", ActionID: \"quit\"},\n})\n</code></pre>"},{"location":"gui/overview/#building-for-distribution","title":"Building for Distribution","text":""},{"location":"gui/overview/#macos","title":"macOS","text":"<pre><code>task gui:build\n# Creates: build/bin/core-gui.app\n</code></pre>"},{"location":"gui/overview/#windows","title":"Windows","text":"<pre><code>task gui:build\n# Creates: build/bin/core-gui.exe\n</code></pre>"},{"location":"gui/overview/#linux","title":"Linux","text":"<pre><code>task gui:build\n# Creates: build/bin/core-gui\n</code></pre>"},{"location":"gui/overview/#environment-variables","title":"Environment Variables","text":"Variable Description <code>MCP_PORT</code> MCP server port (default: 9877) <code>DEBUG</code> Enable debug logging"},{"location":"services/config/","title":"Config Service","text":"<p>The Config service (<code>pkg/config</code>) provides unified configuration management with automatic persistence, feature flags, and XDG-compliant directory paths.</p>"},{"location":"services/config/#features","title":"Features","text":"<ul> <li>JSON configuration with auto-save</li> <li>Feature flag management</li> <li>XDG Base Directory support</li> <li>Struct serialization helpers</li> <li>Type-safe get/set operations</li> </ul>"},{"location":"services/config/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/config\"\n\n// Standalone usage\ncfg, err := config.New()\nif err != nil {\n    log.Fatal(err)\n}\n\n// With Core framework\nc, _ := core.New(\n    core.WithService(config.Register),\n)\ncfg := core.MustServiceFor[*config.Service](c, \"config\")\n</code></pre>"},{"location":"services/config/#get-set-values","title":"Get &amp; Set Values","text":"<pre><code>// Set a value (auto-saves)\nerr := cfg.Set(\"language\", \"fr\")\n\n// Get a value\nvar lang string\nerr := cfg.Get(\"language\", &amp;lang)\n</code></pre> <p>Available configuration keys:</p> Key Type Description <code>language</code> string UI language code <code>default_route</code> string Default navigation route <code>configDir</code> string Config files directory <code>dataDir</code> string Data files directory <code>cacheDir</code> string Cache directory <code>workspaceDir</code> string Workspaces directory"},{"location":"services/config/#feature-flags","title":"Feature Flags","text":"<pre><code>// Enable a feature\ncfg.EnableFeature(\"dark_mode\")\n\n// Check if enabled\nif cfg.IsFeatureEnabled(\"dark_mode\") {\n    // Apply dark theme\n}\n\n// Disable a feature\ncfg.DisableFeature(\"dark_mode\")\n</code></pre>"},{"location":"services/config/#struct-serialization","title":"Struct Serialization","text":"<p>Store complex data structures in separate JSON files:</p> <pre><code>type UserPrefs struct {\n    Theme         string `json:\"theme\"`\n    Notifications bool   `json:\"notifications\"`\n}\n\n// Save struct to config/user_prefs.json\nprefs := UserPrefs{Theme: \"dark\", Notifications: true}\nerr := cfg.SaveStruct(\"user_prefs\", prefs)\n\n// Load struct from file\nvar loaded UserPrefs\nerr := cfg.LoadStruct(\"user_prefs\", &amp;loaded)\n</code></pre>"},{"location":"services/config/#directory-paths","title":"Directory Paths","text":"<p>The service automatically creates XDG-compliant directories:</p> <pre><code>// Access directory paths\nfmt.Println(cfg.ConfigDir)    // ~/.config/lethean or ~/lethean/config\nfmt.Println(cfg.DataDir)      // Data storage\nfmt.Println(cfg.CacheDir)     // Cache files\nfmt.Println(cfg.WorkspaceDir) // User workspaces\n</code></pre>"},{"location":"services/config/#manual-save","title":"Manual Save","text":"<p>Changes are auto-saved, but you can save explicitly:</p> <pre><code>err := cfg.Save()\n</code></pre>"},{"location":"services/config/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import { Get, Set, IsFeatureEnabled } from '@bindings/config/service';\n\n// Get configuration\nconst lang = await Get(\"language\");\n\n// Set configuration\nawait Set(\"default_route\", \"/dashboard\");\n\n// Check feature flag\nif (await IsFeatureEnabled(\"dark_mode\")) {\n    applyDarkTheme();\n}\n</code></pre>"},{"location":"services/core/","title":"Service: <code>core</code>","text":"<p>The <code>core</code> service is the foundation of the application. It serves as a central hub for managing service lifecycles, dependency injection, asset handling, and inter-process communication (IPC).</p>"},{"location":"services/core/#types","title":"Types","text":""},{"location":"services/core/#type-core","title":"<code>type Core</code>","text":"<p><code>Core</code> is the central application object. It holds references to the Wails application instance, configuration, and registered services.</p> <pre><code>type Core struct {\n    // App is the Wails application instance\n    App *application.App\n    // Features manages feature flags\n    Features *Features\n    // ... internal fields\n}\n</code></pre>"},{"location":"services/core/#type-option","title":"<code>type Option</code>","text":"<p><code>Option</code> is a function type used to configure the <code>Core</code> during initialization.</p> <pre><code>type Option func(*Core) error\n</code></pre>"},{"location":"services/core/#type-startable","title":"<code>type Startable</code>","text":"<p><code>Startable</code> is an interface for services that require initialization logic when the application starts.</p> <pre><code>type Startable interface {\n    OnStartup(ctx context.Context) error\n}\n</code></pre>"},{"location":"services/core/#type-stoppable","title":"<code>type Stoppable</code>","text":"<p><code>Stoppable</code> is an interface for services that require cleanup logic when the application shuts down.</p> <pre><code>type Stoppable interface {\n    OnShutdown(ctx context.Context) error\n}\n</code></pre>"},{"location":"services/core/#type-message","title":"<code>type Message</code>","text":"<p><code>Message</code> is a marker interface for structs that can be sent via the Core's IPC system.</p> <pre><code>type Message interface{}\n</code></pre>"},{"location":"services/core/#type-actionservicestartup","title":"<code>type ActionServiceStartup</code>","text":"<p><code>ActionServiceStartup</code> is a message dispatched when the application services are starting up.</p> <pre><code>type ActionServiceStartup struct{}\n</code></pre>"},{"location":"services/core/#type-actionserviceshutdown","title":"<code>type ActionServiceShutdown</code>","text":"<p><code>ActionServiceShutdown</code> is a message dispatched when the application services are shutting down.</p> <pre><code>type ActionServiceShutdown struct{}\n</code></pre>"},{"location":"services/core/#functions","title":"Functions","text":""},{"location":"services/core/#func-newopts-option-core-error","title":"<code>func New(opts ...Option) (*Core, error)</code>","text":"<p><code>New</code> initializes a new <code>Core</code> instance with the provided options. It sets up the internal service registry and feature flags.</p>"},{"location":"services/core/#func-withservicefactory-funccore-any-error-option","title":"<code>func WithService(factory func(*Core) (any, error)) Option</code>","text":"<p><code>WithService</code> registers a service using a factory function. It automatically discovers the service name from the package path and registers any IPC handlers if the service implements <code>HandleIPCEvents</code>.</p>"},{"location":"services/core/#func-withnamename-string-factory-funccore-any-error-option","title":"<code>func WithName(name string, factory func(*Core) (any, error)) Option</code>","text":"<p><code>WithName</code> registers a service with a specific name using a factory function. Unlike <code>WithService</code>, it does not automatically discover IPC handlers.</p>"},{"location":"services/core/#func-withwailsapp-applicationapp-option","title":"<code>func WithWails(app *application.App) Option</code>","text":"<p><code>WithWails</code> injects the Wails application instance into the <code>Core</code>. This is required for services that need to interact with the Wails runtime.</p>"},{"location":"services/core/#func-withassetsfs-embedfs-option","title":"<code>func WithAssets(fs embed.FS) Option</code>","text":"<p><code>WithAssets</code> registers the application's embedded assets (filesystem).</p>"},{"location":"services/core/#func-withservicelock-option","title":"<code>func WithServiceLock() Option</code>","text":"<p><code>WithServiceLock</code> locks the service registry after initialization, preventing further service registration.</p>"},{"location":"services/core/#func-servicefort-anyc-core-name-string-t-error","title":"<code>func ServiceFor[T any](c *Core, name string) (T, error)</code>","text":"<p><code>ServiceFor</code> retrieves a registered service by its name and asserts that it is of type <code>T</code>. Returns an error if the service is not found or the type assertion fails.</p>"},{"location":"services/core/#func-mustservicefort-anyc-core-name-string-t","title":"<code>func MustServiceFor[T any](c *Core, name string) T</code>","text":"<p><code>MustServiceFor</code> is a helper that wraps <code>ServiceFor</code> and panics if the service is not found or the type is incorrect.</p>"},{"location":"services/core/#func-app-applicationapp","title":"<code>func App() *application.App</code>","text":"<p><code>App</code> returns the global Wails application instance. It panics if the Core has not been initialized.</p>"},{"location":"services/core/#methods","title":"Methods","text":""},{"location":"services/core/#func-c-core-config-config","title":"<code>func (c *Core) Config() Config</code>","text":"<p><code>Config</code> returns the registered <code>Config</code> service. This is a convenience method for accessing application configuration.</p>"},{"location":"services/core/#func-c-core-assets-embedfs","title":"<code>func (c *Core) Assets() embed.FS</code>","text":"<p><code>Assets</code> returns the embedded filesystem containing the application's assets.</p>"},{"location":"services/core/#func-c-core-servicestartupctx-contextcontext-options-applicationserviceoptions-error","title":"<code>func (c *Core) ServiceStartup(ctx context.Context, options application.ServiceOptions) error</code>","text":"<p><code>ServiceStartup</code> is the entry point for the Core's startup lifecycle. It initializes all registered <code>Startable</code> services and dispatches the <code>ActionServiceStartup</code> message.</p>"},{"location":"services/core/#func-c-core-serviceshutdownctx-contextcontext-error","title":"<code>func (c *Core) ServiceShutdown(ctx context.Context) error</code>","text":"<p><code>ServiceShutdown</code> is the entry point for the Core's shutdown lifecycle. It dispatches the <code>ActionServiceShutdown</code> message and calls <code>OnShutdown</code> on all <code>Stoppable</code> services in reverse registration order.</p>"},{"location":"services/core/#func-c-core-registeractionhandler-funccore-message-error","title":"<code>func (c *Core) RegisterAction(handler func(*Core, Message) error)</code>","text":"<p><code>RegisterAction</code> registers a new IPC message handler.</p>"},{"location":"services/core/#func-c-core-registeractionshandlers-funccore-message-error","title":"<code>func (c *Core) RegisterActions(handlers ...func(*Core, Message) error)</code>","text":"<p><code>RegisterActions</code> registers multiple IPC message handlers at once.</p>"},{"location":"services/core/#func-c-core-actionmsg-message-error","title":"<code>func (c *Core) ACTION(msg Message) error</code>","text":"<p><code>ACTION</code> dispatches a message to all registered IPC handlers. It aggregates errors from all handlers.</p>"},{"location":"services/core/#func-c-core-registerservicename-string-api-any-error","title":"<code>func (c *Core) RegisterService(name string, api any) error</code>","text":"<p><code>RegisterService</code> adds a new service to the Core. It detects if the service implements <code>Startable</code> or <code>Stoppable</code> and registers it for lifecycle events.</p>"},{"location":"services/core/#func-c-core-servicename-string-any","title":"<code>func (c *Core) Service(name string) any</code>","text":"<p><code>Service</code> retrieves a registered service instance by name as an <code>any</code> type. Returns <code>nil</code> if not found.</p>"},{"location":"services/crypt/","title":"Crypt Service","text":"<p>The Crypt service (<code>pkg/crypt</code>) provides cryptographic utilities including hashing, checksums, RSA encryption, and PGP operations.</p>"},{"location":"services/crypt/#features","title":"Features","text":"<ul> <li>Multiple hash algorithms (SHA512, SHA256, SHA1, MD5)</li> <li>Checksum functions (Fletcher, Luhn)</li> <li>RSA key generation and encryption</li> <li>PGP encryption, signing, and verification</li> <li>Symmetric PGP encryption</li> </ul>"},{"location":"services/crypt/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/crypt\"\n\n// Standalone usage\ncrypto, err := crypt.New()\n\n// With Core framework\nc, _ := core.New(\n    core.WithService(crypt.Register),\n)\ncrypto := core.MustServiceFor[*crypt.Service](c, \"crypt\")\n</code></pre>"},{"location":"services/crypt/#hashing","title":"Hashing","text":"<pre><code>// Available algorithms: SHA512, SHA256, SHA1, MD5, LTHN\nhash := crypto.Hash(crypt.SHA256, \"hello world\")\n\n// Check if string is valid hash algorithm\nisValid := crypto.IsHashAlgo(\"sha256\")\n</code></pre>"},{"location":"services/crypt/#checksums","title":"Checksums","text":"<pre><code>// Luhn validation (credit card numbers)\nisValid := crypto.Luhn(\"4532015112830366\")\n\n// Fletcher checksums\nf16 := crypto.Fletcher16(\"data\")\nf32 := crypto.Fletcher32(\"data\")\nf64 := crypto.Fletcher64(\"data\")\n</code></pre>"},{"location":"services/crypt/#rsa-encryption","title":"RSA Encryption","text":"<pre><code>// Generate key pair (2048 or 4096 bits recommended)\npublicKey, privateKey, err := crypto.GenerateRSAKeyPair(2048)\n\n// Encrypt with public key\nciphertext, err := crypto.EncryptRSA(publicKey, \"secret message\")\n\n// Decrypt with private key\nplaintext, err := crypto.DecryptRSA(privateKey, ciphertext)\n</code></pre>"},{"location":"services/crypt/#pgp-encryption","title":"PGP Encryption","text":""},{"location":"services/crypt/#key-generation","title":"Key Generation","text":"<pre><code>// Generate PGP key pair\npublicKey, privateKey, err := crypto.GeneratePGPKeyPair(\n    \"User Name\",\n    \"user@example.com\",\n    \"Key comment\",\n)\n</code></pre>"},{"location":"services/crypt/#asymmetric-encryption","title":"Asymmetric Encryption","text":"<pre><code>// Encrypt for recipient\nciphertext, err := crypto.EncryptPGPToString(recipientPublicKey, \"secret data\")\n\n// Decrypt with private key\nplaintext, err := crypto.DecryptPGP(privateKey, ciphertext)\n</code></pre>"},{"location":"services/crypt/#symmetric-encryption","title":"Symmetric Encryption","text":"<pre><code>var buf bytes.Buffer\nerr := crypto.SymmetricallyEncryptPGP(&amp;buf, \"data\", \"passphrase\")\n</code></pre>"},{"location":"services/crypt/#signing-verification","title":"Signing &amp; Verification","text":"<pre><code>// Sign data\nsignature, err := crypto.SignPGP(privateKey, \"data to sign\")\n\n// Verify signature\nerr := crypto.VerifyPGP(publicKey, \"data to sign\", signature)\nif err != nil {\n    // Signature invalid\n}\n</code></pre>"},{"location":"services/crypt/#hash-types","title":"Hash Types","text":"Constant Algorithm <code>crypt.SHA512</code> SHA-512 <code>crypt.SHA256</code> SHA-256 <code>crypt.SHA1</code> SHA-1 <code>crypt.MD5</code> MD5 <code>crypt.LTHN</code> Custom LTHN hash"},{"location":"services/crypt/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import {\n    Hash,\n    GenerateRSAKeyPair,\n    EncryptRSA,\n    DecryptRSA\n} from '@bindings/crypt/service';\n\n// Hash data\nconst hash = await Hash(\"SHA256\", \"hello world\");\n\n// RSA encryption\nconst { publicKey, privateKey } = await GenerateRSAKeyPair(2048);\nconst encrypted = await EncryptRSA(publicKey, \"secret\");\nconst decrypted = await DecryptRSA(privateKey, encrypted);\n</code></pre>"},{"location":"services/display/","title":"Display Service","text":"<p>The Display service (<code>pkg/display</code>) provides comprehensive window management, dialogs, system tray, clipboard, and notification functionality.</p>"},{"location":"services/display/#features","title":"Features","text":"<ul> <li>Window creation, positioning, and lifecycle</li> <li>System tray with menus</li> <li>Native dialogs (open, save, confirm)</li> <li>Clipboard operations</li> <li>System notifications</li> <li>Multi-monitor support</li> <li>Layout management</li> </ul>"},{"location":"services/display/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/display\"\n\n// Register with Core\nc, _ := core.New(\n    core.WithService(display.NewService),\n)\n\n// Get service\nsvc := core.MustServiceFor[*display.Service](c, \"display\")\n</code></pre>"},{"location":"services/display/#window-management","title":"Window Management","text":""},{"location":"services/display/#create-window","title":"Create Window","text":"<pre><code>info, err := svc.CreateWindow(display.CreateWindowOptions{\n    Name:   \"settings\",\n    Title:  \"Settings\",\n    URL:    \"/settings\",\n    Width:  800,\n    Height: 600,\n    X:      100,\n    Y:      100,\n})\n</code></pre>"},{"location":"services/display/#position-size","title":"Position &amp; Size","text":"<pre><code>// Move window\nsvc.SetWindowPosition(\"main\", 100, 100)\n\n// Resize window\nsvc.SetWindowSize(\"main\", 1200, 800)\n\n// Both at once\nsvc.SetWindowBounds(\"main\", 100, 100, 1200, 800)\n</code></pre>"},{"location":"services/display/#window-state","title":"Window State","text":"<pre><code>svc.MaximizeWindow(\"main\")\nsvc.MinimizeWindow(\"main\")\nsvc.RestoreWindow(\"main\")\nsvc.FocusWindow(\"main\")\nsvc.SetWindowFullscreen(\"main\", true)\nsvc.SetWindowAlwaysOnTop(\"main\", true)\n</code></pre>"},{"location":"services/display/#list-windows","title":"List Windows","text":"<pre><code>windows := svc.ListWindowInfos()\nfor _, w := range windows {\n    fmt.Printf(\"%s: %dx%d at (%d,%d)\\n\",\n        w.Name, w.Width, w.Height, w.X, w.Y)\n}\n</code></pre>"},{"location":"services/display/#dialogs","title":"Dialogs","text":""},{"location":"services/display/#file-dialogs","title":"File Dialogs","text":"<pre><code>// Open file\npath, err := svc.OpenSingleFileDialog(display.OpenFileOptions{\n    Title: \"Select File\",\n    Filters: []display.FileFilter{\n        {DisplayName: \"Images\", Pattern: \"*.png;*.jpg\"},\n    },\n})\n\n// Open multiple files\npaths, err := svc.OpenFileDialog(display.OpenFileOptions{\n    Title:         \"Select Files\",\n    AllowMultiple: true,\n})\n\n// Save file\npath, err := svc.SaveFileDialog(display.SaveFileOptions{\n    Title:           \"Save As\",\n    DefaultFilename: \"document.txt\",\n})\n\n// Select directory\ndir, err := svc.OpenDirectoryDialog(display.OpenDirectoryOptions{\n    Title: \"Select Folder\",\n})\n</code></pre>"},{"location":"services/display/#confirm-dialog","title":"Confirm Dialog","text":"<pre><code>confirmed, err := svc.ConfirmDialog(\"Delete File\", \"Are you sure?\")\nif confirmed {\n    // User clicked Yes\n}\n</code></pre>"},{"location":"services/display/#system-tray","title":"System Tray","text":"<pre><code>// Set tooltip\nsvc.SetTrayTooltip(\"My Application\")\n\n// Set label\nsvc.SetTrayLabel(\"Running\")\n\n// Set icon (PNG bytes)\niconData, _ := os.ReadFile(\"icon.png\")\nsvc.SetTrayIcon(iconData)\n\n// Set menu\nsvc.SetTrayMenu([]display.TrayMenuItem{\n    {Label: \"Open\", ActionID: \"open\"},\n    {Label: \"Settings\", ActionID: \"settings\"},\n    {IsSeparator: true},\n    {Label: \"Quit\", ActionID: \"quit\"},\n})\n</code></pre>"},{"location":"services/display/#clipboard","title":"Clipboard","text":"<pre><code>// Write to clipboard\nsvc.WriteClipboard(\"Hello, World!\")\n\n// Read from clipboard\ntext, err := svc.ReadClipboard()\n\n// Check if has content\nhasContent := svc.HasClipboard()\n\n// Clear clipboard\nsvc.ClearClipboard()\n</code></pre>"},{"location":"services/display/#notifications","title":"Notifications","text":"<pre><code>// Basic notification\nsvc.ShowNotification(display.NotificationOptions{\n    Title:   \"Download Complete\",\n    Message: \"Your file has been downloaded.\",\n})\n\n// Convenience methods\nsvc.ShowInfoNotification(\"Info\", \"Operation completed\")\nsvc.ShowWarningNotification(\"Warning\", \"Low disk space\")\nsvc.ShowErrorNotification(\"Error\", \"Connection failed\")\n</code></pre>"},{"location":"services/display/#multi-monitor-support","title":"Multi-Monitor Support","text":"<pre><code>// List all screens\nscreens := svc.GetScreens()\n\n// Get primary screen\nprimary, _ := svc.GetPrimaryScreen()\n\n// Get screen at point\nscreen, _ := svc.GetScreenAtPoint(500, 300)\n\n// Get screen for window\nscreen, _ := svc.GetScreenForWindow(\"main\")\n\n// Get work areas (excluding dock/taskbar)\nworkAreas := svc.GetWorkAreas()\n</code></pre>"},{"location":"services/display/#layout-management","title":"Layout Management","text":"<pre><code>// Save current layout\nsvc.SaveLayout(\"coding\")\n\n// Restore layout\nsvc.RestoreLayout(\"coding\")\n\n// List saved layouts\nlayouts := svc.ListLayouts()\n\n// Tile windows\nsvc.TileWindows(display.TileModeGrid, nil)\n\n// Snap to edge\nsvc.SnapWindow(\"main\", display.SnapPositionLeft)\n\n// Apply workflow preset\nsvc.ApplyWorkflowLayout(display.WorkflowCoding)\n</code></pre>"},{"location":"services/display/#theme","title":"Theme","text":"<pre><code>theme := svc.GetTheme()\nfmt.Println(theme.IsDark)\n</code></pre>"},{"location":"services/display/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import {\n    CreateWindow,\n    SetWindowPosition,\n    ShowNotification,\n    OpenFileDialog\n} from '@bindings/display/service';\n\n// Create window\nawait CreateWindow({\n    name: \"settings\",\n    title: \"Settings\",\n    width: 800,\n    height: 600\n});\n\n// Show notification\nawait ShowNotification({\n    title: \"Success\",\n    message: \"Settings saved!\"\n});\n</code></pre>"},{"location":"services/e/","title":"Service: <code>e</code>","text":"<p>Package e provides a standardized error handling mechanism for the Core library. It allows for wrapping errors with contextual information, making it easier to trace the origin of an error and provide meaningful feedback.</p> <p>The design of this package is influenced by the need for a simple, yet powerful way to handle errors that can occur in different layers of the application, from low-level file operations to high-level service interactions.</p> <p>The key features of this package are:   - Error wrapping: The Op and an optional Msg field provide context about     where and why an error occurred.   - Stack traces: By wrapping errors, we can build a logical stack trace     that is more informative than a raw stack trace.   - Consistent error handling: Encourages a uniform approach to error     handling across the entire codebase.</p>"},{"location":"services/e/#types","title":"Types","text":""},{"location":"services/e/#type-error","title":"<code>type Error</code>","text":"<p><code>Error</code> represents a standardized error with operational context.</p> <pre><code>type Error struct {\n    // Op is the operation being performed, e.g., \"config.Load\".\n    Op  string\n    // Msg is a human-readable message explaining the error.\n    Msg string\n    // Err is the underlying error that was wrapped.\n    Err error\n}\n</code></pre>"},{"location":"services/e/#methods","title":"Methods","text":"<ul> <li><code>Error() string</code>: Error returns the string representation of the error.</li> <li><code>Unwrap() error</code>: Unwrap provides compatibility for Go's errors.Is and errors.As functions.</li> </ul>"},{"location":"services/e/#functions","title":"Functions","text":"<ul> <li><code>E(op, msg string, err error) error</code>: E is a helper function to create a new Error.</li> </ul> <p>This is the primary way to create errors that will be consumed by the system. For example:</p> <pre><code>return e.E(\"config.Load\", \"failed to load config file\", err)\n</code></pre> <p>The <code>op</code> parameter should be in the format of <code>package.function</code> or <code>service.method</code>. The <code>msg</code> parameter should be a human-readable message that can be displayed to the user. The <code>err</code> parameter is the underlying error that is being wrapped.</p>"},{"location":"services/help/","title":"Help Service","text":"<p>The Help service (<code>pkg/help</code>) provides an embeddable documentation system that displays MkDocs-based help content in a dedicated window.</p>"},{"location":"services/help/#features","title":"Features","text":"<ul> <li>Embedded help content (MkDocs static site)</li> <li>Context-sensitive help navigation</li> <li>Works with or without Display service</li> <li>Multiple content sources (embedded, filesystem, custom)</li> </ul>"},{"location":"services/help/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/help\"\n\n// Create with default embedded content\nhelpService, err := help.New(help.Options{})\n\n// Initialize with core dependencies\nhelpService.Init(coreInstance, displayService)\n</code></pre>"},{"location":"services/help/#showing-help","title":"Showing Help","text":"<pre><code>// Show main help window\nerr := helpService.Show()\n\n// Show specific section\nerr := helpService.ShowAt(\"getting-started\")\nerr := helpService.ShowAt(\"api/config\")\n</code></pre>"},{"location":"services/help/#options","title":"Options","text":"<pre><code>type Options struct {\n    Source string  // Path to help content directory\n    Assets fs.FS   // Custom filesystem for assets\n}\n</code></pre>"},{"location":"services/help/#default-embedded-content","title":"Default Embedded Content","text":"<pre><code>// Uses embedded MkDocs site\nhelpService, _ := help.New(help.Options{})\n</code></pre>"},{"location":"services/help/#custom-directory","title":"Custom Directory","text":"<pre><code>// Use local directory\nhelpService, _ := help.New(help.Options{\n    Source: \"/path/to/docs/site\",\n})\n</code></pre>"},{"location":"services/help/#custom-filesystem","title":"Custom Filesystem","text":"<pre><code>//go:embed docs/*\nvar docsFS embed.FS\n\nhelpService, _ := help.New(help.Options{\n    Assets: docsFS,\n})\n</code></pre>"},{"location":"services/help/#integration-with-core","title":"Integration with Core","text":"<p>The help service can work standalone or integrated with Core:</p>"},{"location":"services/help/#with-display-service","title":"With Display Service","text":"<p>When Display service is available, help opens through the IPC action system:</p> <pre><code>// Automatically uses display.open_window action\nhelpService.Init(core, displayService)\nhelpService.Show()\n</code></pre>"},{"location":"services/help/#without-display-service","title":"Without Display Service","text":"<p>Falls back to direct Wails window creation:</p> <pre><code>// Creates window directly via Wails\nhelpService.Init(core, nil)\nhelpService.Show()\n</code></pre>"},{"location":"services/help/#lifecycle","title":"Lifecycle","text":"<pre><code>// Called on application startup\nerr := helpService.ServiceStartup(ctx)\n</code></pre>"},{"location":"services/help/#building-help-content","title":"Building Help Content","text":"<p>Help content is a static MkDocs site. To update:</p> <ol> <li>Edit documentation in <code>docs/</code> directory</li> <li>Build with MkDocs:    <pre><code>mkdocs build\n</code></pre></li> <li>The built site goes to <code>pkg/help/public/</code></li> <li>Content is embedded at compile time</li> </ol>"},{"location":"services/help/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import { Show, ShowAt } from '@bindings/help/service';\n\n// Open help window\nawait Show();\n\n// Open specific section\nawait ShowAt(\"configuration\");\nawait ShowAt(\"api/display\");\n</code></pre>"},{"location":"services/help/#help-window-options","title":"Help Window Options","text":"<p>The help window opens with default settings:</p> Property Value Title \"Help\" Width 800px Height 600px"},{"location":"services/help/#ipc-action","title":"IPC Action","text":"<p>When using Display service, help triggers this action:</p> <pre><code>{\n    \"action\": \"display.open_window\",\n    \"name\":   \"help\",\n    \"options\": {\n        \"Title\":  \"Help\",\n        \"Width\":  800,\n        \"Height\": 600,\n        \"URL\":    \"/#anchor\",  // When using ShowAt\n    },\n}\n</code></pre>"},{"location":"services/i18n/","title":"I18n Service","text":"<p>The I18n service (<code>pkg/i18n</code>) provides internationalization and localization support with automatic language detection and template-based translations.</p>"},{"location":"services/i18n/#features","title":"Features","text":"<ul> <li>JSON-based locale files</li> <li>Embedded locale bundles</li> <li>Automatic language detection from environment</li> <li>Template variable interpolation</li> <li>BCP 47 language tag support</li> </ul>"},{"location":"services/i18n/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/i18n\"\n\n// Create service (defaults to English)\ni18n, err := i18n.New()\nif err != nil {\n    log.Fatal(err)\n}\n</code></pre>"},{"location":"services/i18n/#setting-language","title":"Setting Language","text":"<pre><code>// Set language using BCP 47 tag\nerr := i18n.SetLanguage(\"fr\")\nerr := i18n.SetLanguage(\"en-US\")\nerr := i18n.SetLanguage(\"zh-Hans\")\n</code></pre>"},{"location":"services/i18n/#translating-messages","title":"Translating Messages","text":"<pre><code>// Simple translation\nmsg := i18n.Translate(\"welcome_message\")\n\n// With template data\nmsg := i18n.Translate(\"greeting\", map[string]string{\n    \"Name\": \"John\",\n})\n// Template: \"Hello, {{.Name}}!\"\n// Result: \"Hello, John!\"\n</code></pre>"},{"location":"services/i18n/#available-languages","title":"Available Languages","text":"<pre><code>// Get list of available language codes\nlangs := i18n.AvailableLanguages()\n// Returns: [\"en\", \"es\", \"fr\", \"de\", ...]\n</code></pre>"},{"location":"services/i18n/#get-all-messages","title":"Get All Messages","text":"<pre><code>// Get all translations for a language\nmessages, err := i18n.GetAllMessages(\"en\")\nfor key, value := range messages {\n    fmt.Printf(\"%s: %s\\n\", key, value)\n}\n</code></pre>"},{"location":"services/i18n/#locale-file-format","title":"Locale File Format","text":"<p>Locale files are JSON stored in <code>locales/</code> directory:</p> <pre><code>// locales/en.json\n{\n    \"welcome\": \"Welcome to the application\",\n    \"greeting\": \"Hello, {{.Name}}!\",\n    \"items_count\": {\n        \"one\": \"{{.Count}} item\",\n        \"other\": \"{{.Count}} items\"\n    }\n}\n</code></pre>"},{"location":"services/i18n/#adding-new-languages","title":"Adding New Languages","text":"<ol> <li> <p>Create a new JSON file in <code>pkg/i18n/locales/</code>:    <pre><code>locales/es.json\n</code></pre></p> </li> <li> <p>Add translations:    <pre><code>{\n    \"welcome\": \"Bienvenido a la aplicaci\u00f3n\",\n    \"greeting\": \"\u00a1Hola, {{.Name}}!\"\n}\n</code></pre></p> </li> <li> <p>The service automatically loads embedded locales at startup.</p> </li> </ol>"},{"location":"services/i18n/#language-detection","title":"Language Detection","text":"<p>The service can detect system language from the <code>LANG</code> environment variable:</p> <pre><code>// Automatic detection happens internally\n// LANG=fr_FR.UTF-8 -&gt; French\n// LANG=de_DE.UTF-8 -&gt; German\n</code></pre>"},{"location":"services/i18n/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import {\n    SetLanguage,\n    Translate,\n    AvailableLanguages,\n    GetAllMessages\n} from '@bindings/i18n/service';\n\n// Set language\nawait SetLanguage(\"fr\");\n\n// Translate\nconst welcome = await Translate(\"welcome_message\");\n\n// Get available languages for a selector\nconst languages = await AvailableLanguages();\n\n// Load all messages for client-side caching\nconst messages = await GetAllMessages(\"en\");\n</code></pre>"},{"location":"services/io/","title":"IO Service","text":"<p>The IO package (<code>pkg/io</code>) provides a unified interface for file operations across different storage backends (local filesystem, S3, SFTP, etc.).</p>"},{"location":"services/io/#features","title":"Features","text":"<ul> <li>Abstract <code>Medium</code> interface for storage backends</li> <li>Local filesystem implementation</li> <li>Copy between different mediums</li> <li>Mock implementation for testing</li> </ul>"},{"location":"services/io/#medium-interface","title":"Medium Interface","text":"<p>All storage backends implement the <code>Medium</code> interface:</p> <pre><code>type Medium interface {\n    Read(path string) (string, error)\n    Write(path, content string) error\n    EnsureDir(path string) error\n    IsFile(path string) bool\n    FileGet(path string) (string, error)\n    FileSet(path, content string) error\n}\n</code></pre>"},{"location":"services/io/#local-filesystem","title":"Local Filesystem","text":"<pre><code>import (\n    \"github.com/Snider/Core/pkg/io\"\n    \"github.com/Snider/Core/pkg/io/local\"\n)\n\n// Pre-initialized global medium (root = \"/\")\ncontent, err := io.Local.Read(\"/etc/hosts\")\n\n// Create sandboxed medium\nmedium, err := local.New(\"/app/data\")\ncontent, err := medium.Read(\"config.json\")  // Reads /app/data/config.json\n</code></pre>"},{"location":"services/io/#basic-operations","title":"Basic Operations","text":"<pre><code>// Read file\ncontent, err := medium.Read(\"path/to/file.txt\")\n\n// Write file\nerr := medium.Write(\"path/to/file.txt\", \"content\")\n\n// Check if file exists\nif medium.IsFile(\"config.json\") {\n    // File exists\n}\n\n// Ensure directory exists\nerr := medium.EnsureDir(\"path/to/dir\")\n\n// Convenience methods\ncontent, err := medium.FileGet(\"file.txt\")\nerr := medium.FileSet(\"file.txt\", \"content\")\n</code></pre>"},{"location":"services/io/#helper-functions","title":"Helper Functions","text":"<p>Package-level functions that work with any Medium:</p> <pre><code>// Read from medium\ncontent, err := io.Read(medium, \"file.txt\")\n\n// Write to medium\nerr := io.Write(medium, \"file.txt\", \"content\")\n\n// Ensure directory\nerr := io.EnsureDir(medium, \"path/to/dir\")\n\n// Check if file\nexists := io.IsFile(medium, \"file.txt\")\n</code></pre>"},{"location":"services/io/#copy-between-mediums","title":"Copy Between Mediums","text":"<pre><code>localMedium, _ := local.New(\"/local/path\")\nremoteMedium := s3.New(bucket, region)  // hypothetical S3 implementation\n\n// Copy from local to remote\nerr := io.Copy(localMedium, \"data.json\", remoteMedium, \"backup/data.json\")\n</code></pre>"},{"location":"services/io/#mock-medium-for-testing","title":"Mock Medium for Testing","text":"<pre><code>import \"github.com/Snider/Core/pkg/io\"\n\nfunc TestMyFunction(t *testing.T) {\n    mock := io.NewMockMedium()\n\n    // Pre-populate files\n    mock.Files[\"config.json\"] = `{\"key\": \"value\"}`\n    mock.Dirs[\"data\"] = true\n\n    // Use in tests\n    myService := NewService(mock)\n\n    // Verify writes\n    err := myService.SaveData(\"test\")\n    if mock.Files[\"data/test.json\"] != expectedContent {\n        t.Error(\"unexpected content\")\n    }\n}\n</code></pre>"},{"location":"services/io/#creating-custom-backends","title":"Creating Custom Backends","text":"<p>Implement the <code>Medium</code> interface for custom storage:</p> <pre><code>type S3Medium struct {\n    bucket string\n    client *s3.Client\n}\n\nfunc (m *S3Medium) Read(path string) (string, error) {\n    // Implement S3 read\n}\n\nfunc (m *S3Medium) Write(path, content string) error {\n    // Implement S3 write\n}\n\n// ... implement remaining methods\n</code></pre>"},{"location":"services/io/#error-handling","title":"Error Handling","text":"<pre><code>content, err := medium.Read(\"missing.txt\")\nif err != nil {\n    // File not found or read error\n    log.Printf(\"Read failed: %v\", err)\n}\n</code></pre>"},{"location":"services/io/#frontend-usage","title":"Frontend Usage","text":"<p>The IO package is primarily used server-side. Frontend file operations should use the Display service dialogs or direct API calls:</p> <pre><code>import { OpenFileDialog, SaveFileDialog } from '@bindings/display/service';\n\n// Open file picker\nconst path = await OpenFileDialog({\n    title: \"Select File\",\n    filters: [{ displayName: \"Text\", pattern: \"*.txt\" }]\n});\n\n// Save file picker\nconst savePath = await SaveFileDialog({\n    title: \"Save As\",\n    defaultFilename: \"document.txt\"\n});\n</code></pre>"},{"location":"services/mcp/","title":"MCP Service","text":"<p>The MCP service (<code>pkg/mcp</code>) implements the Model Context Protocol, enabling AI assistants like Claude to interact with your application.</p>"},{"location":"services/mcp/#overview","title":"Overview","text":"<p>MCP provides a standardized way for AI tools to:</p> <ul> <li>Execute operations in your application</li> <li>Query application state</li> <li>Interact with the UI</li> <li>Manage files and processes</li> </ul>"},{"location":"services/mcp/#basic-setup","title":"Basic Setup","text":"<pre><code>import \"github.com/Snider/Core/pkg/mcp\"\n\n// Create standalone MCP server\nmcpService := mcp.NewStandaloneWithPort(9877)\n\n// Or integrate with Core\nc, _ := core.New(\n    core.WithService(mcp.NewService),\n)\n</code></pre>"},{"location":"services/mcp/#available-tools","title":"Available Tools","text":"<p>The MCP service exposes numerous tools organized by category:</p>"},{"location":"services/mcp/#file-operations","title":"File Operations","text":"Tool Description <code>file_read</code> Read file contents <code>file_write</code> Write content to file <code>file_edit</code> Replace text in file <code>file_delete</code> Delete a file <code>file_exists</code> Check if file exists <code>dir_list</code> List directory contents <code>dir_create</code> Create directory"},{"location":"services/mcp/#window-control","title":"Window Control","text":"Tool Description <code>window_list</code> List all windows <code>window_create</code> Create new window <code>window_close</code> Close window <code>window_position</code> Move window <code>window_size</code> Resize window <code>window_maximize</code> Maximize window <code>window_minimize</code> Minimize window <code>window_focus</code> Bring to front"},{"location":"services/mcp/#webview-interaction","title":"WebView Interaction","text":"Tool Description <code>webview_eval</code> Execute JavaScript <code>webview_click</code> Click element <code>webview_type</code> Type into element <code>webview_screenshot</code> Capture page <code>webview_navigate</code> Navigate to URL <code>webview_console</code> Get console logs"},{"location":"services/mcp/#process-management","title":"Process Management","text":"Tool Description <code>process_start</code> Start a process <code>process_stop</code> Stop a process <code>process_list</code> List running processes <code>process_output</code> Get process output"},{"location":"services/mcp/#http-api","title":"HTTP API","text":"<p>The MCP service exposes an HTTP API:</p> <pre><code># Health check\ncurl http://localhost:9877/health\n\n# List available tools\ncurl http://localhost:9877/mcp/tools\n\n# Call a tool\ncurl -X POST http://localhost:9877/mcp/call \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"tool\": \"window_list\", \"params\": {}}'\n</code></pre>"},{"location":"services/mcp/#websocket-events","title":"WebSocket Events","text":"<p>Connect to <code>/events</code> for real-time updates:</p> <pre><code>const ws = new WebSocket('ws://localhost:9877/events');\nws.onmessage = (event) =&gt; {\n    const data = JSON.parse(event.data);\n    console.log('Event:', data.type, data.data);\n};\n</code></pre>"},{"location":"services/mcp/#integration-with-display-service","title":"Integration with Display Service","text":"<pre><code>mcpService := mcp.NewStandaloneWithPort(9877)\nmcpService.SetDisplay(displayService)\nmcpService.SetWebView(webviewService)\n</code></pre>"},{"location":"services/mcp/#example-claude-integration","title":"Example: Claude Integration","text":"<p>When Claude connects via MCP, it can:</p> <pre><code>User: \"Move the settings window to the left side of the screen\"\n\nClaude uses: window_position(\"settings\", 0, 100)\n</code></pre> <pre><code>User: \"Take a screenshot of the app\"\n\nClaude uses: webview_screenshot(\"main\")\n</code></pre> <pre><code>User: \"Click the submit button\"\n\nClaude uses: webview_click(\"main\", \"#submit-btn\")\n</code></pre>"},{"location":"services/mcp/#security-considerations","title":"Security Considerations","text":"<ul> <li>MCP server binds to localhost by default</li> <li>No authentication (designed for local AI assistants)</li> <li>Consider firewall rules for production</li> </ul>"},{"location":"services/mcp/#configuration","title":"Configuration","text":"<pre><code>// Custom port\nmcp.NewStandaloneWithPort(8080)\n\n// With all services\nbridge := NewMCPBridge(9877, displayService)\nbridge.SetWebView(webviewService)\n</code></pre>"},{"location":"services/runtime/","title":"Service: <code>runtime</code>","text":"<p>The <code>runtime</code> service provides the main entry point for the application and a helper structure for services to interact with the <code>Core</code>.</p>"},{"location":"services/runtime/#types","title":"Types","text":""},{"location":"services/runtime/#type-runtime","title":"<code>type Runtime</code>","text":"<p><code>Runtime</code> is the top-level container that holds the <code>Core</code> instance and the Wails application. It serves as the bridge between Wails and the Core framework.</p> <pre><code>type Runtime struct {\n    // Core is the central service manager\n    Core *Core\n    // app is the Wails application instance\n    app  *application.App\n}\n</code></pre>"},{"location":"services/runtime/#type-serviceruntimet-any","title":"<code>type ServiceRuntime[T any]</code>","text":"<p><code>ServiceRuntime</code> is a generic helper struct designed to be embedded in service implementations. It provides easy access to the <code>Core</code> and service-specific options.</p> <pre><code>type ServiceRuntime[T any] struct {\n    core *Core\n    opts T\n}\n</code></pre>"},{"location":"services/runtime/#type-servicefactory","title":"<code>type ServiceFactory</code>","text":"<p><code>ServiceFactory</code> is a function type that creates a service instance.</p> <pre><code>type ServiceFactory func() (any, error)\n</code></pre>"},{"location":"services/runtime/#functions","title":"Functions","text":""},{"location":"services/runtime/#func-newruntimeapp-applicationapp-runtime-error","title":"<code>func NewRuntime(app *application.App) (*Runtime, error)</code>","text":"<p><code>NewRuntime</code> creates and wires together all application services using default settings. It is the standard way to initialize the runtime.</p>"},{"location":"services/runtime/#func-newwithfactoriesapp-applicationapp-factories-mapstringservicefactory-runtime-error","title":"<code>func NewWithFactories(app *application.App, factories map[string]ServiceFactory) (*Runtime, error)</code>","text":"<p><code>NewWithFactories</code> creates a new <code>Runtime</code> instance using a provided map of service factories. This allows for flexible, dynamic service registration.</p>"},{"location":"services/runtime/#func-newserviceruntimet-anyc-core-opts-t-serviceruntimet","title":"<code>func NewServiceRuntime[T any](c *Core, opts T) *ServiceRuntime[T]</code>","text":"<p><code>NewServiceRuntime</code> creates a new <code>ServiceRuntime</code> instance. This is typically used in a service's factory or constructor.</p>"},{"location":"services/runtime/#methods","title":"Methods","text":""},{"location":"services/runtime/#func-r-runtime-servicename-string","title":"<code>func (r *Runtime) ServiceName() string</code>","text":"<p><code>ServiceName</code> returns the name of the service (\"Core\"). This is used by Wails for service identification.</p>"},{"location":"services/runtime/#func-r-runtime-servicestartupctx-contextcontext-options-applicationserviceoptions","title":"<code>func (r *Runtime) ServiceStartup(ctx context.Context, options application.ServiceOptions)</code>","text":"<p><code>ServiceStartup</code> delegates the startup lifecycle event to the underlying <code>Core</code>, which in turn initializes all registered services.</p>"},{"location":"services/runtime/#func-r-runtime-serviceshutdownctx-contextcontext","title":"<code>func (r *Runtime) ServiceShutdown(ctx context.Context)</code>","text":"<p><code>ServiceShutdown</code> delegates the shutdown lifecycle event to the underlying <code>Core</code>.</p>"},{"location":"services/runtime/#func-r-serviceruntimet-core-core","title":"<code>func (r *ServiceRuntime[T]) Core() *Core</code>","text":"<p><code>Core</code> returns the central <code>Core</code> instance, giving the service access to other services and features.</p>"},{"location":"services/runtime/#func-r-serviceruntimet-config-config","title":"<code>func (r *ServiceRuntime[T]) Config() Config</code>","text":"<p><code>Config</code> returns the registered <code>Config</code> service from the <code>Core</code>. It is a convenience method for accessing configuration.</p>"},{"location":"services/webview/","title":"WebView Service","text":"<p>The WebView service (<code>pkg/webview</code>) provides programmatic interaction with web content in your application windows.</p>"},{"location":"services/webview/#features","title":"Features","text":"<ul> <li>JavaScript execution</li> <li>DOM manipulation</li> <li>Element interaction (click, type, select)</li> <li>Console message capture</li> <li>Screenshots</li> <li>Network request monitoring</li> <li>Performance metrics</li> </ul>"},{"location":"services/webview/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/webview\"\n\n// Create service\nwv := webview.New()\n\n// Set Wails app reference\nwv.SetApp(app)\n</code></pre>"},{"location":"services/webview/#javascript-execution","title":"JavaScript Execution","text":"<pre><code>// Execute JavaScript and get result\nresult, err := wv.ExecJS(\"main\", `\n    document.title\n`)\n\n// Execute complex scripts\nresult, err := wv.ExecJS(\"main\", `\n    const items = document.querySelectorAll('.item');\n    Array.from(items).map(el =&gt; el.textContent);\n`)\n</code></pre>"},{"location":"services/webview/#dom-interaction","title":"DOM Interaction","text":""},{"location":"services/webview/#click-element","title":"Click Element","text":"<pre><code>err := wv.Click(\"main\", \"#submit-button\")\nerr := wv.Click(\"main\", \".nav-link:first-child\")\n</code></pre>"},{"location":"services/webview/#type-text","title":"Type Text","text":"<pre><code>err := wv.Type(\"main\", \"#search-input\", \"hello world\")\n</code></pre>"},{"location":"services/webview/#select-option","title":"Select Option","text":"<pre><code>err := wv.Select(\"main\", \"#country-select\", \"US\")\n</code></pre>"},{"location":"services/webview/#checkuncheck","title":"Check/Uncheck","text":"<pre><code>err := wv.Check(\"main\", \"#agree-checkbox\", true)\n</code></pre>"},{"location":"services/webview/#hover","title":"Hover","text":"<pre><code>err := wv.Hover(\"main\", \".dropdown-trigger\")\n</code></pre>"},{"location":"services/webview/#scroll","title":"Scroll","text":"<pre><code>// Scroll to element\nerr := wv.Scroll(\"main\", \"#section-3\", 0, 0)\n\n// Scroll by coordinates\nerr := wv.Scroll(\"main\", \"\", 0, 500)\n</code></pre>"},{"location":"services/webview/#element-information","title":"Element Information","text":""},{"location":"services/webview/#query-selector","title":"Query Selector","text":"<pre><code>elements, err := wv.QuerySelector(\"main\", \".list-item\")\n</code></pre>"},{"location":"services/webview/#element-info","title":"Element Info","text":"<pre><code>info, err := wv.GetElementInfo(\"main\", \"#user-card\")\n// Returns: tag, id, classes, text, attributes, bounds\n</code></pre>"},{"location":"services/webview/#computed-styles","title":"Computed Styles","text":"<pre><code>styles, err := wv.GetComputedStyle(\"main\", \".button\",\n    []string{\"color\", \"background-color\", \"font-size\"})\n</code></pre>"},{"location":"services/webview/#dom-tree","title":"DOM Tree","text":"<pre><code>tree, err := wv.GetDOMTree(\"main\", 5) // max depth 5\n</code></pre>"},{"location":"services/webview/#console-messages","title":"Console Messages","text":"<pre><code>// Setup console listener\nwv.SetupConsoleListener()\n\n// Inject capture script\nwv.InjectConsoleCapture(\"main\")\n\n// Get messages\nmessages := wv.GetConsoleMessages(\"all\", 100)\nmessages := wv.GetConsoleMessages(\"error\", 50)\n\n// Clear buffer\nwv.ClearConsole()\n\n// Get errors only\nerrors := wv.GetErrors(50)\n</code></pre>"},{"location":"services/webview/#screenshots","title":"Screenshots","text":"<pre><code>// Full page screenshot (base64 PNG)\ndata, err := wv.Screenshot(\"main\")\n\n// Element screenshot\ndata, err := wv.ScreenshotElement(\"main\", \"#chart\")\n\n// Export as PDF\npdfData, err := wv.ExportToPDF(\"main\", map[string]any{\n    \"margin\": 20,\n})\n</code></pre>"},{"location":"services/webview/#page-information","title":"Page Information","text":"<pre><code>// Get current URL\nurl, err := wv.GetURL(\"main\")\n\n// Get page title\ntitle, err := wv.GetTitle(\"main\")\n\n// Get page source\nsource, err := wv.GetPageSource(\"main\")\n\n// Navigate\nerr := wv.Navigate(\"main\", \"https://example.com\")\n</code></pre>"},{"location":"services/webview/#network-monitoring","title":"Network Monitoring","text":"<pre><code>// Inject network interceptor\nwv.InjectNetworkInterceptor(\"main\")\n\n// Get captured requests\nrequests, err := wv.GetNetworkRequests(\"main\", 100)\n\n// Clear request log\nwv.ClearNetworkRequests(\"main\")\n</code></pre>"},{"location":"services/webview/#performance-metrics","title":"Performance Metrics","text":"<pre><code>metrics, err := wv.GetPerformance(\"main\")\n// Returns: loadTime, domContentLoaded, firstPaint, etc.\n</code></pre>"},{"location":"services/webview/#resource-listing","title":"Resource Listing","text":"<pre><code>resources, err := wv.GetResources(\"main\")\n// Returns: scripts, stylesheets, images, fonts, etc.\n</code></pre>"},{"location":"services/webview/#visual-debugging","title":"Visual Debugging","text":"<pre><code>// Highlight element temporarily\nerr := wv.Highlight(\"main\", \"#target-element\", 2000) // 2 seconds\n</code></pre>"},{"location":"services/webview/#window-listing","title":"Window Listing","text":"<pre><code>windows := wv.ListWindows()\nfor _, w := range windows {\n    fmt.Println(w.Name)\n}\n</code></pre>"},{"location":"services/webview/#frontend-usage","title":"Frontend Usage","text":"<p>The WebView service is primarily used server-side for:</p> <ul> <li>Automated testing</li> <li>AI assistant interactions (via MCP)</li> <li>Scripted UI interactions</li> </ul> <p>For normal frontend development, use standard DOM APIs directly.</p>"},{"location":"services/workspace/","title":"Workspace Service","text":"<p>The Workspace service (<code>pkg/workspace</code>) manages isolated user workspaces with encrypted storage and PGP key pairs.</p>"},{"location":"services/workspace/#features","title":"Features","text":"<ul> <li>Isolated workspace environments</li> <li>PGP key pair generation per workspace</li> <li>Encrypted workspace identification</li> <li>File operations within workspace context</li> <li>Multiple workspace support</li> </ul>"},{"location":"services/workspace/#basic-usage","title":"Basic Usage","text":"<pre><code>import \"github.com/Snider/Core/pkg/workspace\"\n\n// With IO medium (standalone)\nmedium, _ := local.New(\"/app/workspaces\")\nws, err := workspace.New(medium)\n\n// With Core framework (recommended)\nc, _ := core.New(\n    core.WithService(workspace.Register),\n)\nws := core.MustServiceFor[*workspace.Service](c, \"workspace\")\n</code></pre>"},{"location":"services/workspace/#creating-workspaces","title":"Creating Workspaces","text":"<pre><code>// Create a new encrypted workspace\nworkspaceID, err := ws.CreateWorkspace(\"my-project\", \"secure-password\")\n// Returns obfuscated workspace ID\n\n// Workspace structure created:\n// workspaces/\n//   &lt;workspace-id&gt;/\n//     config/\n//     log/\n//     data/\n//     files/\n//     keys/\n//       key.pub   (PGP public key)\n//       key.priv  (PGP private key)\n</code></pre>"},{"location":"services/workspace/#switching-workspaces","title":"Switching Workspaces","text":"<pre><code>// Switch to a workspace\nerr := ws.SwitchWorkspace(workspaceID)\n\n// Switch to default workspace\nerr := ws.SwitchWorkspace(\"default\")\n</code></pre>"},{"location":"services/workspace/#workspace-file-operations","title":"Workspace File Operations","text":"<pre><code>// Write file to active workspace\nerr := ws.WorkspaceFileSet(\"config/settings.json\", jsonData)\n\n// Read file from active workspace\ncontent, err := ws.WorkspaceFileGet(\"config/settings.json\")\n</code></pre>"},{"location":"services/workspace/#listing-workspaces","title":"Listing Workspaces","text":"<pre><code>// Get all workspace IDs\nworkspaces := ws.ListWorkspaces()\nfor _, id := range workspaces {\n    fmt.Println(id)\n}\n</code></pre>"},{"location":"services/workspace/#active-workspace","title":"Active Workspace","text":"<pre><code>// Get current workspace info\nactive := ws.ActiveWorkspace()\nif active != nil {\n    fmt.Println(\"Name:\", active.Name)\n    fmt.Println(\"Path:\", active.Path)\n}\n</code></pre>"},{"location":"services/workspace/#workspace-structure","title":"Workspace Structure","text":"<p>Each workspace contains:</p> Directory Purpose <code>config/</code> Workspace configuration files <code>log/</code> Workspace logs <code>data/</code> Application data <code>files/</code> User files <code>keys/</code> PGP key pair"},{"location":"services/workspace/#security-model","title":"Security Model","text":"<p>Workspaces use a two-level hashing scheme:</p> <ol> <li>Real Name: Hash of the identifier</li> <li>Workspace ID: Hash of <code>workspace/{real_name}</code></li> </ol> <p>This prevents workspace enumeration while allowing consistent access.</p>"},{"location":"services/workspace/#ipc-events","title":"IPC Events","text":"<p>The workspace service responds to IPC messages:</p> <pre><code>// Switch workspace via IPC\nc.ACTION(core.Message{\n    Type: \"workspace.switch_workspace\",\n    Data: map[string]any{\n        \"name\": workspaceID,\n    },\n})\n</code></pre>"},{"location":"services/workspace/#frontend-usage-typescript","title":"Frontend Usage (TypeScript)","text":"<pre><code>import {\n    CreateWorkspace,\n    SwitchWorkspace,\n    WorkspaceFileGet,\n    WorkspaceFileSet,\n    ListWorkspaces,\n    ActiveWorkspace\n} from '@bindings/workspace/service';\n\n// Create workspace\nconst wsId = await CreateWorkspace(\"my-project\", \"password\");\n\n// Switch workspace\nawait SwitchWorkspace(wsId);\n\n// Read/write files\nconst config = await WorkspaceFileGet(\"config/app.json\");\nawait WorkspaceFileSet(\"config/app.json\", JSON.stringify(newConfig));\n\n// List all workspaces\nconst workspaces = await ListWorkspaces();\n\n// Get active workspace\nconst active = await ActiveWorkspace();\nconsole.log(`Current: ${active.Name} at ${active.Path}`);\n</code></pre>"}]}